<html DIR="LTR" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
  <head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8" />
    <META NAME="save" CONTENT="history" />
    <title>Setting Up Windows Server 2003, Datacenter Edition</title>
    
  <STYLE TYPE="text/css">
/* RelNote */

table#columnTable
{
    table-layout: fixed;
    background:    #FFFFFF;
    border: 0;
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
}

td#EdgeBorderColumn
{
    width: 10px;
    border: 0px;
    margin: 0;    
    height: 100%;
    background-color:  #666666;
}
  
td#ToCColumn
{
    background:    #FFFFFF;
    width: 300px;
    border: 0;
    margin: 0;
    vertical-align: top;
    padding-left:    14px;
    padding-right:   10px;
    padding-top: 7px;
    text-decoration: none;
}

td#contentColumn
{
    background:    #FFFFFF;	
    border: 0;
    margin: 0;
    padding: 14px 5% 22px 10px;             		
    vertical-align: top;
    max-width: 590;	
}

.ToCLevel1
{
    font-weight: bold;
    line-height: 140%;
}

.ToCLevel2
{
    margin-left: 8px;
}
	
a
{
    color: #000000;
}

@media print
{
    P.TopOfPage
    {
    	margin: 5 0 18 0;		
    }
}

@media screen
{
    P.TopOfPage
    {
    	margin: 0 0 18 0;		
    }
}

#contentColumn A.TopOfPageLink
{
	text-decoration: none;	
}

#contentColumn A.TopOfPageLink:hover
{
    text-decoration: underline;
}

#ToCColumn A
{
    text-decoration: none;
}

#ToCColumn A:hover
{
    text-decoration: underline;
}

/* WSUA CHM presentation */


/********/
/* BODY */
body
{
    background:#FFFFFF;
    color:#000000;
    font-family:Verdana, Arial, Sans-Serif;
    font-size:70%;
    font-style:normal;
    font-weight:normal;
    margin:0 0 0 0;
    padding:0 0 0 0;
    width:100%;
    height: 100%;
    border-style:none;
    border-width:0;
}


/*********/
/* LINKS */
a
{
	color:#0000FF;
}

a:visited
{
	color:#0000FF;
	text-decoration:underline;
}

a:link
{
	color:#0000FF;
	text-decoration:underline;
}

a:hover
{
	color:#FF0000;
	cursor:hand;
	text-decoration:underline;
}

a:active
{
	color:#FF0000;
	cursor:hand;
	text-decoration:underline;
}


/************/
/* SECTIONS */

/* running header*/
.runningHeader
{
	padding: 0px;
	border: 0px;
	margin: 0px;
}

div#techCenterLink
{
	background-color:#5F5F5F;
	color:#FFFFFF;
	padding:5pt 12px 5pt 12px;
	margin:0 0 0 0;
	border-bottom:solid 1pt #919193;
	width:100%;
}

div#techCenterLink a
{
	color:#FFFFFF;
	text-decoration:underline;
	cursor:hand;
}

div#techCenterLink a:active
{
	color:#FFFFFF;
	text-decoration:underline;
	cursor:hand;
}

/* title */
div#header
{
	background-color:#666666;
	padding:15 13 15 20;	
	margin:0 0 0 0;
	width:100%;
	border-style: solid;
	border-width: 1 0 0 0;
	border-color: #333333;
	vertical-align: middle;
}

div#header h1
{
	padding:0 0 0 0;
	margin:0 0 0 0;
	color:#FFFFFF;
	font-size:160%;
}


/* main section */
div#mainSection
{
	padding:0 0 0 0;
	margin:0 0 0 0;
	width:100%;
        height: 100%;
	border-width:0;
}

div#mainBody
{
	padding:0 9 0 0;
	margin:0 0 0 0;
	width:100%;
        height: 100%;
	border-style:none;
	border-width:0;
}


/* footer */
div#footer
{
	font-size:90%;
	margin:0 0 0 0;
	padding:0 0 0 0;
	width:100%;
	border:0;
}


/************/
/* HEADINGS */
div.section
{
	width:	100%;
}

.heading
{
	color:#000000;
	margin:9px 0px 9px 0px;
}

h1.heading
{
	font-size:155%;
}

.subHeading
{
	color:#000000;
	margin:9px 0px 9px 0px;
}

h3.subHeading
{
	font-size:130%;
}

td#ToCColumn h4.subHeading
{
	font-size:120%;
}

h4.subHeading
{
	font-size:110%;
}

h5.subHeading
{
	font-size:100%;
}

h6
{
	font-weight:normal;
	font-size:100%;
}

img.procedure
{
	border: 0;
	margin-right:8;
}

.howToHeadingTable
{
	background-color:Transparent;
	border:0;
	font-size:100%;
	width:100%;
}

.howToHeadingImgCell
{
	background-color:Transparent;
	margin:0 0 0 0;
	padding-bottom:0;
	padding-top:3px;
	padding-left:0;
	padding-right:0;
	vertical-align:top;
	width:24px;
}

.howToHeadingTextCell
{
	background-color:Transparent;
	margin:0 0 0 0;
	padding:0 0 0 0;
	padding-left:0;
	padding-right:0;
	vertical-align:middle;
}


/**********/
/* TABLES */
table
{
	border:0;
	font-size:100%;
	margin:3 0 9 0;
	width:100%;
}

th
{
	background-color:#DDDDDD;
	vertical-align:bottom;
	text-align:left;
	font-weight:bold;
	color:#000000;
	padding:.2em;
	padding-left:.45em;
	padding-right:.5em;
}

td
{
	background-color:#EEEEEE;
	vertical-align:top;
	padding:.2em;
	padding-left:.45em;
	padding-right:.5em;
}


/**********/
/* ALERTS */
img.note
{
	border: 0;
	margin-right:5;
}

span.alertTitle
{
	padding:0;
	margin:0;
	font-weight:bold;
	vertical-align:text-bottom;
	height:100px;
	display:block;
}

.alertTable
{
	background-color:Transparent;
	border:0;
	font-size:100%;
	margin:3 0 0 0;
	width:85%;
}

.alertTable tr
{
	background-color:Transparent;
	margin:0 0 0 0;
	padding:0 0 0 0;
	vertical-align:middle;
}

.imgCell
{
	background-color:Transparent;
	margin:0 0 0 0;
	padding:0 0 0 0;
	vertical-align:top;
	width:21px;
}

.txtCell
{
	background-color:Transparent;
	font-weight:bold;
	margin:0 0 0 0;
	padding:0 0 0 0;
	vertical-align:middle;
}

.procHeadingCell
{
	background-color:Transparent;
	font-weight:bold;
	margin:0 0 0 0;
	padding:1px 0 0 0;
	vertical-align:middle;
}

.alertCell
{
	background-color:Transparent;
	margin:0 0 0 0;
	padding:0 0 0 0;
	vertical-align:middle;
}

p.alertImg
{
	border:0;
	font-weight:bold;
	margin:0;
	padding:0;
	vertical-align:top;
	height:100%;
	width:100%;
}

div.alert
{
	border:0;
	/*padding-left:21px;*/
	margin-right:15%;
	width:100%;
}

div.alert ul
{
	margin:3px 1.5em 0em 1.5em;
	padding-left:0em;
	list-style-type:disc;
}


/********/
/* CODE */
div.code
{
	padding:0;
	margin:0;
}

div.code pre
{
	font-family:Courier New;
	font-size:1.1em;
	color:#000000;
	padding:0;
	margin:3 0 9 0;	
	word-wrap: break-word;
}

code
{
	font-family:Courier New;
	font-size:1.1em;
	color:#000000;
}


/*********/
/* LISTS */

/* Definitions */
dl
{
	margin:0px 0px 0px 0px;
    padding:0px 0px 0px 0px;
}

dt
{
    margin:3px 0px 0px 0px;
    padding:0px 0px 0px 0px;
}

dd
{
	margin-bottom:9px;
    padding:0px 0px 0px 0px;
}

/* Lists */
ul
{
	margin:.6em 1.5em 0em 1.5em;
	padding-left:0em;
	list-style-type:disc;
}

ul ul
{
	margin:.6em 1.5em 0em 1.5em;
	padding-left:0em;
	list-style-type:disc;
}

ol ul
{
	margin:.6em 1.5em 0em 1.5em;
	padding-left:0em;
	list-style-type:disc;
}

ol
{
	margin:.5em 2.1em 0em auto;
	padding-left:0;
	list-style-type:decimal;
}

ol ol
{
	margin:.5em 2.1em 0em auto;
	padding-left:0;
	list-style-type:lower-alpha;
}

ul ol
{
	margin:.5em 2.1em 0em auto;
	padding-left:0;
	list-style-type:decimal;
}

li
{
	clear:both;
	margin-bottom: 3;
}


/**************/
/* PARAGRAPHS */
p
{
    margin:3px 0px 9px 0px;
}


/*****************/
/* MISCELLANEOUS */
img.embedded
{
	padding:0;
	margin:0;
}

img.selfstanding
{
	margin-top:3;
	margin-bottom:9;
}

img.toggle
{
	border: 0;
	margin-right: 5;
}

img#toggleAllImage
{
	margin-left: 4;
	vertical-align: middle;
}

.tip
{
	font-style:italic;
}

.math
{
	font-family: Times New Roman;
	font-size: 125%
}

.sourceCodeList
{
	font-family: Verdana;
	font-size: 90%;	
}

pre.viewCode
{
	width: 100%;
	overflow: auto;
}

/* * * End of file. * * */

</STYLE>
</head>
  <body>
    <a name="pagetop">
    </a>
    <div id="header">
      <h1>Setting Up Windows Server 2003, Datacenter Edition</h1>
    </div>
    <div id="mainSection">
      <div id="mainBody">
        <p class="runningHeader">
          
        </p>
        <table cellspacing="0" id="columnTable">
          <tr>
            <td id="EdgeBorderColumn" valign="top">
            </td>
            <td id="ToCColumn" valign="top">
              <h4 class="subHeading">Contents</h4>
              <P class="ToCLevel1">
                <A href="#EFNBHA">Getting Ready for an Upgrade</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFFBNBHA">Upgrades Compared to New Installations</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFDBNBHA">System Requirements and Hardware Compatibility</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDBBNBHA">Important Files to Review</A>
              </P>
              <P class="ToCLevel1">
                <A href="#EFLBHA">Running Setup for an Upgrade</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFHBLBHA">Preparing Your System for an Upgrade</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFFBLBHA">Starting Setup for an Upgrade</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDDBLBHA">Planning for Unattended Setup</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFBBLBHA">Product Activation for Products in the Windows Server&#160;2003 Family</A>
              </P>
              <P class="ToCLevel1">
                <A href="#EFJBHA">Upgrading on Cluster Nodes</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFDBJBHA">Preparing for Upgrading Clustering</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFBBJBHA">Upgrading a Cluster from Windows 2000 to Windows Server&#160;2003, Datacenter Edition</A>
              </P>
              <P class="ToCLevel1">
                <A href="#EFHBHA">Getting Ready for a New Installation</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFRBHBHA">Upgrades Compared to New Installations</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFPBHBHA">System Requirements and Hardware Compatibility</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDNBHBHA">Important Files to Review</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFLBHBHA">Decisions to Make for a New Installation</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDJBHBHA">Choosing a Licensing Mode</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFHBHBHA">Choosing a File System for the Installation Partition</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFFBHBHA">Planning Disk Partitions or Volumes for New Installations</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFDBHBHA">Networks: TCP/IP, IP Addresses, and Name Resolution</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFBBHBHA">Deciding Between Workgroups and Domains</A>
              </P>
              <P class="ToCLevel1">
                <A href="#EFFBHA">Running Setup for a New Installation</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFPBFBHA">Preparing Your System for a New Installation</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFNBFBHA">Starting Setup on an x86-based Computer</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDLBFBHA">Starting Setup on an Itanium-based Computer</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDJBFBHA">Starting Setup on an x64-based Computer</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDHBFBHA">Planning for Unattended Setup</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFFBFBHA">Entering Server Settings for a New Installation</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDDBFBHA">Product Activation for Products in the Windows Server&#160;2003 Family</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EDBBFBHA">Product Activation Compared to Product Registration</A>
              </P>
              <P class="ToCLevel1">
                <A href="#EFDBHA">Installing on Cluster Nodes</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFFBDBHA">Important Information to Review</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFDBDBHA">Planning and Preparing for Cluster Installation</A>
              </P>
              <P class="ToCLevel2">
                <A href="#EFBBDBHA">Beginning the Cluster Installation on the First Cluster Node</A>
              </P>
            </td>
            <td id="contentColumn" valign="top">
              
    <p>For important information that you should know before you install this product, see Pre-installation Notes (read1st.htm) located on your product CD.</p>
    <p>For information that you should know after you install this product, see Release Notes (relnotes.htm) located on your product CD.</p>
    <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
      <p>This topic applies to the Microsoft&#174; Windows&#160;Server&#8482;&#160;2003 operating system, Datacenter Edition, and, except where noted, the x64-based and Itanium-based versions of Windows Server&#160;2003, Datacenter Edition.</p>
    </td></tr></table>
  <h1 class="heading"><A name="EFNBHA"></A>Getting Ready for an Upgrade</h1><div id="sectionSection0" class="section">
      <p>This topic can help you plan for an upgrade to Microsoft&#174; Windows&#160;Server&#8482;&#160;2003, Datacenter Edition, in a network with one to five servers and 100 or fewer clients. The information in Getting Started is designed to help with the upgrade or installation of such a network. For help with planning the upgrade or installation of a larger number of servers, see the Windows Deployment and Resource Kits on the Web at: <a href="http://go.microsoft.com/fwlink/?LinkID=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a></p>
      <p>For technical information and resources to help you evaluate, deploy, and administer the Windows server operating systems, see the Windows Server TechCenter on the Web at: <a href="http://go.microsoft.com/fwlink/?LinkId=28944" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=28944</a></p>
      <p>For detailed information about how to run Setup, see "<a href="#BKMK_2">Running Setup for an Upgrade</a>" later in this topic. If you have a server cluster, also be sure to read "<a href="#BKMK_3">Upgrading on Cluster Nodes</a>" later in this topic.</p>
      <p>If you want to plan for a new installation, see "<a href="#BKMK_4">Getting Ready for a New Installation</a>" later in this topic.</p>
      <p>After completing the upgrade of the first server, you can get detailed instructions about how to use products in the Windows Server&#160;2003 family by opening Help and Support Center. To open Help and Support Center, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
    
      <a name="UpgradesComparedtoNewInstallations"></a><A name="EFFBNBHA"></A><h3 class="subHeading">Upgrades Compared to New Installations</h3><div class="subSection">
          <p>This section compares upgrading to performing a new installation, to help you confirm your decision to upgrade. Upgrading is replacing Windows&#160;2000 Datacenter Server with Windows Server&#160;2003, Datacenter Edition. Installing, in contrast with upgrading, means completely removing the previous operating system, or installing a product in the Windows Server&#160;2003 family on a disk or disk partition with no previous operating system.</p>
          <p>The following lists describe items to consider when deciding between an upgrade and a new installation:</p>
        
          <div class="subSection">
            
              <div class="subSection"><h5 class="subHeading">Points to consider for an upgrade:</h5>
                  <ul><li>
                      With an upgrade, configuration is simpler, and your existing users, settings, groups, rights, and permissions are retained. <br></br>
                    </li><li>
                      With an upgrade, you do not need to re-install files and applications. As with any major changes to the hard disk, however, it is recommended that you back up the disk before beginning an upgrade. <br></br>
                    </li><li>
                      If you want to upgrade and then use the same applications as before, be sure to review applications information in Relnotes.htm (on the Setup CD). Also, for the most recent information about compatible applications for products in the Windows Server&#160;2003 family, see the software compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37604" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37604</a><br></br>
                    </li></ul>
                </div>
              <div class="subSection"><h5 class="subHeading">Points to consider for a new installation:</h5>
                  <p>If you reformat your hard disk and then perform a new installation, the efficiency of your disk might improve (compared to not reformatting it). Reformatting also gives you the opportunity to modify the size or number of disk partitions, to make them match your requirements more closely. </p>
                  <p>If you want to practice careful configuration management, for example, for a server where high availability is important, you might want to perform a new installation on that server instead of an upgrade. This is especially true on servers on which the operating system has been upgraded several times in the past.</p>
                </div>
            </div>
          <h4 class="subHeading">Upgrade Path</h4><div class="subSection">
              <p>If you upgrade, Setup automatically installs Windows Server&#160;2003, Datacenter Edition, into the same folder as the currently installed copy of Windows&#160;2000 Datacenter Server. The only operating system from which you can upgrade to Windows Server&#160;2003, Datacenter Edition, is Windows&#160;2000 Datacenter Server.</p>
            </div>
        </div>
      <a name="SystemRequirementsandHardwareCompatibility2"></a><A name="EFDBNBHA"></A><h3 class="subHeading">System Requirements and Hardware Compatibility</h3><div class="subSection">
          <p>Before upgrading your server, make sure that you have chosen hardware that supports Windows Server&#160;2003, Datacenter Edition.</p>
        
          <h4 class="subHeading">System Requirements</h4><div class="subSection">
              <p>Computers that run Windows Server&#160;2003, Datacenter Edition, must be on the compatibility list for Windows Server&#160;2003, Datacenter Edition. For details, see the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a></p>
              <p>The requirements for systems on the compatibility list for Windows Server&#160;2003, Datacenter Edition, include the following:</p>
              <ul><li>
                  
                    <b>For an x86-based computer: </b>
                  <br></br>
                  <ul><li>
                      Must be able to support eight or more processors with a minimum speed of 400 megahertz (MHz). For new installations, the minimum processor speed is 550 MHz. A maximum of 32&#160;processors per computer is supported. <br></br>
                    </li><li>
                      512 megabytes (MB) of RAM minimum, 64&#160;gigabytes (GB) maximum. <br></br>
                    </li><li>
                      2 GB of free hard-disk space (minimum) for Setup.<br></br>
                    </li></ul>
                </li><li>
                  A hard disk partition or volume with enough free space to accommodate the setup process. To ensure that you have flexibility in your later use of the operating system, it is recommended that you allow considerably more space than the minimum required for running Setup, which is approximately 2&#160;GB to 3GB on an x86-based computer and 4&#160;GB on an Itanium-based or x64-based computer. The larger amount of space is required if you are running Setup across a network instead of from a CD-ROM.<br></br>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Notes </td></tr><tr><td class="alertCell"><ul>
                    <li>You cannot upgrade from an earlier version of a Windows server operating system to an Itanium-based or x64-based version of a Windows server operating system.&#160; </li>
                    <li>The setup process requires the free disk space described in the previous paragraph. After Setup is finished, actual hard disk space used for the operating system will be more than the free space required for Setup, because of space needed for the paging file, for any optional components you install, and (on domain controllers) for user accounts and other Active Directory&#174; information. The usual size for the paging file is 1.5 times the size of the RAM. For information about the paging file, optional components, user accounts, and information stored in Active Directory, see Help and Support Center. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</li>
                  </ul></td></tr></table>
                </li><li>
                  VGA or higher-resolution monitor (Super VGA 800x600 or higher recommended), keyboard, and (optionally) a mouse or other pointing device.<br></br>
                  As an alternative, for operation without a monitor or keyboard, you can choose a remote&#160;diagnostic and support processor that is designed for products in the Windows Server&#160;2003 family. For details, see the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a><br></br>
                </li></ul>
              <p>
                <b>For CD-ROM installation:</b>
              </p>
              <ul><li>
                  A CD-ROM or DVD drive.<br></br>
                </li></ul>
              <p>
                <b>For network installation:</b>
              </p>
              <ul><li>
                  One or more network adapters and related cables that are designed for products in the Windows Server&#160;2003 family. For details, see the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a><br></br>
                </li><li>
                  A server from which to offer network access for the Setup files.<br></br>
                </li></ul>
            </div>
          <h4 class="subHeading">Hardware Compatibility</h4><div class="subSection">
              <p>When you purchase a server running Windows Server&#160;2003, Datacenter Edition, you are purchasing a system that has been extensively tested for compatibility between the hardware components, the drivers, and the operating system. For more information about hardware compatibility, contact your hardware manufacturer, and see the hardware compatibility information in the Windows Catalog at:</p>
              <p>
                <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a>
              </p>
            
              <div class="subSection"><h5 class="subHeading">Mass Storage Drivers and the Setup Process</h5>
                  <p>If you have a mass storage controller (such as a SCSI, RAID, or Fibre Channel adapter) for your hard disk, confirm that the controller is designed for products in the Windows Server&#160;2003 family by checking the hardware and software compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37823" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37823</a></p>
                  <p>If your controller is compatible, but you are aware that the manufacturer has supplied a separate driver file for use with products in the Windows Server&#160;2003 family, obtain the file (on a floppy disk) before you begin Setup. During the early part of Setup, a line at the bottom of the screen will prompt you to press F6. Further prompts will guide you in supplying the driver file to Setup so that it can gain access to the mass storage controller.</p>
                  <p>If you are not sure whether you must obtain a separate driver file from the manufacturer of your mass storage controller, you can try running Setup. If the controller is not supported by the driver files on the Setup CD, and therefore requires a driver file that is supplied by the hardware manufacturer, Setup stops and displays a message saying that no disk devices can be found, or it displays an incomplete list of controllers. After you obtain the necessary driver file, restart Setup, and press F6 when you are prompted.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Using a Custom Hardware Abstraction Layer (HAL) File</h5>
                  <p>If you have a custom Hardware Abstraction Layer (HAL) file supplied by your computer manufacturer, before you begin Setup, locate the floppy disk or other medium containing the file. During the early part of Setup, a line at the bottom of the screen will prompt you to press F6: at this time press F5 (not F6). After you press F5, follow the prompts to include your HAL file in the Setup process.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Using Dynamic Update for Updated Drivers and Other Setup Files</h5>
                  <p>If you have a working Internet connection on the computer on which you run Setup, you can choose Dynamic Update during Setup and obtain the most up-to-date Setup files, including drivers and other files. Whenever an important update is made to any crucial Setup file, that update is made available through Dynamic Update functionality built into the Windows Update Web site. Some of the updated files will be replacements (for example, an updated driver or updated Setup file) and some will be additions (for example, a driver not available at the time that the Setup CD was created). It is recommended that you use Dynamic Update when running Setup.</p>
                  <p>Dynamic Update has been carefully designed so that it is reliable and easy to use:</p>
                  <ul><li>
                      The files on the Dynamic Update section of the Windows Update Web site have been carefully tested and selected. Only files that are important in ensuring that Setup runs well are made available through Dynamic Update. Files with minor updates that will not significantly affect Setup are not part of Dynamic Update. <br></br>
                    </li><li>
                      Because Dynamic Update downloads only the files that are required for your computer, the Dynamic Update software briefly examines your computer hardware. No personal information is collected, and no information is saved. The only purpose is to select appropriate drivers for your hardware configuration. This keeps the download as short as possible and ensures that only necessary drivers are downloaded to your hard disk. <br></br>
                    </li><li>
                      You can use Dynamic Update when running a preupgrade compatibility check from the product CD, or when running Setup itself. Either way, you obtain the most up-to-date files for running Setup. For information about running the compatibility check, see "Hardware Compatibility" earlier in this topic. <br></br>
                    </li><li>
                      You can use Dynamic Update with unattended Setup. Preparing for this requires several steps. For a brief description of unattended Setup, see the "Planning for Unattended Setup" section in "<a href="#BKMK_2">Running Setup for an Upgrade</a>" later in this topic. For details about how to use Dynamic Update with unattended Setup (also called automated installation), see the Windows Deployment and Resource Kits Web site at: <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a><br></br>
                    </li></ul>
                  <p>The Windows Update Web site offers a variety of updates that you can use after completing Setup. To learn more, go to: <a href="http://go.microsoft.com/fwlink/?linkid=284" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=284</a></p>
                </div>
            </div>
        </div>
      <a name="ImportantFilestoReview"></a><A name="EDBBNBHA"></A><h3 class="subHeading">Important Files to Review</h3><div class="subSection">
          <p>At some point in your planning process, before you run Setup, familiarize yourself with the Relnotes.htm file found on the Setup CD.</p>
          <p>This file contains important usage information about hardware, networking, applications, and printing. Also familiarize yourself with information about hardware compatibility for products in the Windows Server&#160;2003 family. For more information, see "Hardware Compatibility" earlier in this topic.</p>
          <p>For the most recent information about compatible applications for products in the Windows Server&#160;2003 family, see the software compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37604" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37604</a></p>
        </div>
    </div><p class="TopOfPage"><A href="#pagetop" class="TopOfPageLink">Top of page</A></p><a name="BKMK_2"></a><h1 class="heading"><A name="EFLBHA"></A>Running Setup for an Upgrade</h1><div id="sectionSection1" class="section">
      <ul><li>
          
            <a href="#PreparingYourSystemforanUpgrade">Preparing Your System for an Upgrade</a>
          <br></br>
        </li><li>
          
            <a href="#StartingSetupforanUpgrade">Starting Setup for an Upgrade</a>
          <br></br>
        </li><li>
          
            <a href="#PlanningforUnattendedSetup2">Planning for Unattended Setup</a>
          <br></br>
        </li><li>
          
            <a href="#ProductActivationforProductsintheWindowsServer2003Family2">Product Activation for Products in the Windows Server&#160;2003 Family</a>
          <br></br>
        </li></ul>
      <p>This topic provides recommendations for preparing your system before running Setup for Microsoft&#174; Windows&#160;Server&#8482;&#160;2003, Datacenter Edition, for an upgrade, and it explains how to run Setup. Before reading this topic or running Setup, be sure to read "Getting Ready for an Upgrade" at the beginning of this document. If you have a server cluster, be sure also to read "<a href="#BKMK_3">Upgrading on Cluster Nodes</a>" later in this topic.</p>
      <p>For more information about the deployment of servers, see the Windows Deployment and Resource Kits Web site at: <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a></p>
      <p>For technical information and resources to help you evaluate, deploy, and administer the Windows server operating systems, see the Windows Server TechCenter on the Web at: <a href="http://go.microsoft.com/fwlink/?LinkID=28944" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=28944</a></p>
    
      <a name="PreparingYourSystemforanUpgrade"></a><A name="EFHBLBHA"></A><h3 class="subHeading">Preparing Your System for an Upgrade</h3><div class="subSection">
          <p>This section describes the basic steps to take in preparing your server for an upgrade.</p>
          <p>If you are upgrading Windows Server&#160;2003, Datacenter Edition, on server cluster nodes, be sure to read "<a href="#BKMK_3">Upgrading on Cluster Nodes</a>" later in this topic.</p>
        
          <h4 class="subHeading">Checking the System Log for Errors</h4><div class="subSection">
              <p>Use Event Viewer to review the system log for recent or recurring errors that could cause problems during the upgrade. For information about viewing errors, see Help for the operating system that you are running.</p>
            </div>
          <h4 class="subHeading">Backing Up Files</h4><div class="subSection">
              <p>Before upgrading, it is recommended that you back up your current files, including anything containing configuration information, for example, the System State and the system and boot partitions. You can back up files to a variety of different media, such as a tape drive or the hard disk of another computer on the network.</p>
            </div>
          <h4 class="subHeading">Disconnecting UPS Devices</h4><div class="subSection">
              <p>If you have an uninterruptible power supply (UPS) connected to your target computer, disconnect the connecting serial cable before running Setup. Setup automatically attempts to detect devices connected to serial ports, and UPS equipment can cause problems with the detection process.</p>
            </div>
        </div>
      <a name="StartingSetupforanUpgrade"></a><A name="EFFBLBHA"></A><h3 class="subHeading">Starting Setup for an Upgrade</h3><div class="subSection">
          <p>This section explains how to start Setup for an upgrade on an x86-based computer. You can start Setup for an upgrade from the CD or from a network, as described in "Starting an Upgrade" later in this topic.</p>
          <p>For important information about upgrades in the context of a domain, see "Getting Ready for an Upgrade" at the beginning of this document. For information about unattended Setup and other options available when you start Setup, see "Planning for Unattended Setup" later in this topic.</p>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
            <p>You cannot upgrade from an earlier version of a Windows server operating system to an Itanium-based or x64-based version of a Windows server operating system.</p>
          </td></tr></table>
        
          <h4 class="subHeading">Providing a Mass Storage Driver or a HAL File</h4><div class="subSection">
              <p>If you have a mass storage controller that requires a driver supplied by the manufacturer, or if you have a custom Hardware Abstraction Layer (HAL) file supplied by the manufacturer, provide the appropriate driver file or HAL file during Setup.</p>
            
              <div class="subSection"><h5 class="subHeading">Mass Storage Drivers and the Setup Process</h5>
                  <p>If you have a mass storage controller (such as a SCSI, RAID, or Fibre Channel adapter) for your hard disk, confirm that the controller is designed for products in the Windows Server&#160;2003 family by checking the hardware and software compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37823" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37823</a></p>
                  <p>If your controller is compatible, but you are aware that the manufacturer has supplied a separate driver file for use with products in the Windows Server&#160;2003 family, obtain the file (on a floppy disk) before you begin Setup. During the early part of Setup, a line at the bottom of the screen prompts you to press F6. Further prompts will guide you in supplying the driver file to Setup so that it can gain access to the mass storage controller.</p>
                  <p>If you are not sure whether you must obtain a separate driver file from the manufacturer of your mass storage controller, you can try running Setup. If the controller is not supported by the driver files on the Setup CD and therefore requires a driver file that is supplied by the hardware manufacturer, Setup stops and displays a message saying that no disk devices can be found, or it displays an incomplete list of controllers. After you obtain the necessary driver file, restart Setup, and press F6 when you are prompted.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Using a Custom HAL File</h5>
                  <p>If you have a custom Hardware Abstraction Layer (HAL) file supplied by your computer manufacturer, before you begin Setup, locate the floppy disk or other medium containing the file. During the early part of Setup, a line at the bottom of the screen prompts you to press F6: at this time press F5 (not F6). After you press F5, follow the prompts to include your HAL file in the Setup process.</p>
                </div>
            </div>
          <h4 class="subHeading">Starting an Upgrade</h4><div class="subSection">
              <p>If you are upgrading to Windows Server&#160;2003, Datacenter Edition, you can start Setup from the CD or from a network. The only operating system from which you can upgrade to Windows Server&#160;2003, Datacenter Edition, is Windows&#160;2000 Datacenter Server.</p>
              <p>For information about starting Setup for a new installation, see "<a href="#BKMK_5">Running Setup for a New Installation</a>" later in this topic. For information about unattended Setup and other options available when you start Setup, see "Planning for Unattended Setup" later in this topic.</p>
              <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell"><ul>
                <li>To run Setup for an upgrade, you must be a member of the Administrators group on the local computer. If the computer is joined to a domain, members of the Domain Admins group might be able to perform this procedure. As a security best practice, if you start Setup from a computer running Windows&#160;2000, consider using Run as.</li>
                <li>
                  <b>Run as</b> is a secondary logon method that you can use to start commands or programs using a different security context. For example, you can log on as a member of the Users group and, without logging off, run a command as a member of the Administrators group. To find more information in Windows&#160;2000 about <b>Run as</b>, on a server running Windows&#160;2000, click <b>Start</b>, click <b>Help</b>, click the <b>Search</b> tab, and then search for <b>runas</b>.</li>
              </ul></td></tr></table>
              <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To start an upgrade from the CD on a computer running Windows</b></td></tr></table><ol><li>
                    
                      <p>Insert the CD in the drive, and wait for Setup to display a dialog box.</p>
                    
                  </li><li>
                    
                      <p>Follow the Setup instructions.</p>
                    
                  </li></ol>
              <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To start an upgrade from a network</b></td></tr></table><ol><li>
                    
                      <p>On a network server, share the installation files by either inserting the CD and sharing the CD-ROM drive or by copying the files from the I386 folder on the CD to a shared folder.</p>
                    
                  </li><li>
                    
                      <p>On the computer on which you want to install Windows Server&#160;2003, Datacenter&#160;Edition, connect to the shared folder or drive that contains the Setup files.</p>
                    
                  </li><li>
                    
                      <p>Run Setup.exe.</p>
                    
                  </li><li>
                    
                      <p>Follow the Setup instructions.</p>
                    
                  </li></ol>
            </div>
        </div>
      <a name="PlanningforUnattendedSetup2"></a><A name="EDDBLBHA"></A><h3 class="subHeading">Planning for Unattended Setup</h3><div class="subSection">
          <p>This section provides general information about unattended Setup. For detailed instructions on running unattended Setup (also called automated installation), see the Windows Deployment and Resource Kits Web site at: <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a></p>
          <p>To simplify the process of setting up a product in the Windows Server&#160;2003 family on multiple computers, you can run Setup unattended. To do this, you create and use an answer file, a customized script that answers the Setup questions automatically. Then, you run Winnt32.exe or Winnt.exe with the appropriate options for unattended Setup. Choose the command according to the operating system that is running when you start unattended Setup:</p>
          <ul><li>
              To start unattended Setup on a computer running MS-DOS or Windows&#160;3.x, use Winnt.exe (with the appropriate options). <br></br>
            </li><li>
              To start unattended Setup on a computer running Windows&#160;95, Windows&#160;98, Windows&#160;Millennium Edition, Windows&#160;NT&#174;, Windows&#160;2000, Windows&#160;XP, or a product in the Windows Server&#160;2003 family, use Winnt32.exe (with the appropriate options). With Windows&#160;NT 4.0, before starting unattended Setup, apply Service Pack&#160;5 or later.<br></br>
            </li></ul>
          <p>To learn about unattended Setup, see the following sources:</p>
          <ul><li>
              
                <b>For detailed instructions on running unattended Setup (also called automated installation):</b> See the Windows Deployment and Resource Kits Web site (described in the first paragraph of this section). <br></br>
            </li><li>
              
                <b>To view the command options available for Winnt.exe:</b> On a computer running Windows&#160;3.x or MS-DOS, insert the Setup CD for Windows Server&#160;2003, Datacenter Edition, in the CD-ROM drive and open the command prompt. Then, change to the CD-ROM drive, change to the I386 directory, and type:<br></br>
              
                <b>winnt /?</b>
              <br></br>
            </li><li>
              
                <b>To use an x86-based or x64-based computer to view the command options available for Winnt32.exe:</b> On a computer running Windows&#160;95, Windows&#160;98, Windows&#160;Millennium Edition, Windows&#160;NT, Windows&#160;2000, Windows&#160;XP, or a product in the Windows Server&#160;2003 family, insert the Setup CD for Windows Server&#160;2003, Standard&#160;Edition, in the CD-ROM drive, and open the command prompt. Then, change to the CD-ROM drive, change to the I386 directory, and type:<br></br>
              
                <b>winnt32 /?</b>
              <br></br>
            </li><li>
              
                <b>To use an Itanium-based computer to view the command options available for Winnt32.exe: </b>On an Itanium-based computer running Windows&#160;XP 64-Bit Edition; the Itanium-based version of Windows Server&#160;2003, Enterprise Edition; or the Itanium-based version of Windows Server&#160;2003, Datacenter Edition, insert the Setup CD for the product in the CD-ROM drive and open the command prompt (click <b>Start</b>, click <b>Run</b>, and then type <b>cmd</b>). Then, change to the CD-ROM drive, change to the IA64 directory, and type: <br></br>
              
                <b>winnt32 /?</b>
              <br></br>
            </li></ul>
        </div>
      <a name="ProductActivationforProductsintheWindowsServer2003Family2"></a><A name="EFBBLBHA"></A><h3 class="subHeading">Product Activation for Products in the Windows Server&#160;2003 Family</h3><div class="subSection">
          <p>After you install a product in the Windows Server&#160;2003 family, if the product was purchased individually rather than through a volume licensing arrangement, you will have to activate the product unless your hardware manufacturer has preactivated it for you. Product activation is quick, simple, and unobtrusive, and it protects your privacy. It is designed to reduce software piracy (illegal copies of a product). Over time, reduced piracy means that the software industry can invest more in product development, quality, and support. This results in better products and more innovation for customers.</p>
          <p>The following details help explain product activation:</p>
          <p>
            <b>Software reminders</b>&#160;&#160;&#160;Until you activate your product, it provides a reminder each time you log on and at common intervals until the end of the activation grace period stated in your End-User License Agreement (30 days is the typical grace period). If your activation grace period passes and you do not activate the product, your computer will continue to function, except that when you log on locally or log on through Remote Desktop for Administration (the new name for the Windows&#160;2000 functionality known as Terminal Services in Remote Administration Mode), you will only be able to use the Activate Windows Wizard.</p>
          <p>
            <b>How the software handles activation</b>&#160;&#160;&#160;Activation is simple and anonymous. When you activate your product, it means that your product key is now associated with the computer (the hardware) it is installed on. After that happens, your product key cannot be used for activation on other computers (unless you are enrolled in a special program that permits additional activations, for example, a program through the Microsoft Developer Network).</p>
          <p>Your local operating system does some of the work for creating the association between your product key and the computer it is installed on. It uses your Product ID, which is derived from your product key, and puts it together with a coded number (called a hardware hash) that uniquely represents the hardware components that make up your computer (without representing any personal information or anything about the software). When you activate, you provide this number, through the Internet or by phone, so that it can be confirmed as representing a legal installation. After you activate, if another person has an illegal copy of your software, and that person tries to use your product key to activate the software on another computer, the coded numbers will show that your product key is already associated with a particular set of hardware (your computer). The other person’s activation will not work.</p>
          <p>The Installation ID that the local operating system generates, representing the association between your product key and the computer it is installed on, is used only for the purpose of activation.</p>
          <p>
            <b>Methods for activation</b>&#160;&#160;&#160;After your operating system is installed, begin activation by clicking Start and then clicking Activate Windows (you can also click the key icon that appears in the lower right corner of the screen). By following the instructions on the screen, you can activate through the Internet or by phone:</p>
          <ul><li>
              
                <b>Internet:</b> When you activate through the Internet, your computer transmits coded information that shows that your product key is associated with your computer hardware. Activation is carried out through a secure server. A confirmation ID is passed back to your computer, automatically activating your product. This process normally takes just a few seconds to complete. No personally identifiable information is required to activate your product. <br></br>
            </li><li>
              
                <b>Phone:</b> When you activate by phone, information on the screen guides you through a few simple steps. When you choose the country or region where you are located, a phone number (toll-free, wherever possible) appears on your screen. When you call the number, a customer service representative asks for the Installation ID that is displayed on your screen. The customer service representative enters that number into a secure database, confirms that the number represents a legally installed product, and provides a confirmation ID to you. Then, you type the confirmation ID into the spaces provided on the screen, and activation is complete.<br></br>
            </li></ul>
          <p>
            <b>Reactivation (rarely needed)</b>&#160;&#160;&#160;If you overhaul your computer by replacing a substantial number of hardware components (not just a few), the operating system might view your hardware as a completely different computer, not the one on which you activated. In this situation, you can call the telephone number displayed on the telephone activation screen, and, through a quick, simple process, you can reactivate your product.</p>
        
          <h4 class="subHeading">Product Activation Compared to Product Registration</h4><div class="subSection">
              <p>Product activation is not the same as product registration. As discussed above, product activation is required, and it is completely anonymous. Product registration, in contrast, is completely optional, and it allows you to provide personal information, such as your e-mail address, if you choose. Registration entitles you to receive information about product updates and special offers directly from Microsoft. All registration information provided is stored securely, and no information is ever loaned or sold to other parties.</p>
            </div>
        </div>
    </div><p class="TopOfPage"><A href="#pagetop" class="TopOfPageLink">Top of page</A></p><a name="BKMK_3"></a><h1 class="heading"><A name="EFJBHA"></A>Upgrading on Cluster Nodes</h1><div id="sectionSection2" class="section">
      <ul><li>
          
            <a href="#PreparingforUpgradingClustering">Preparing for Upgrading Clustering</a>
          <br></br>
        </li><li>
          
            <a href="#UpgradingaClusterfromWindows2000toWindowsServer2003DatacenterEdition">Upgrading a Cluster from Windows 2000 to Windows Server&#160;2003, Datacenter Edition</a>
          <br></br>
        </li></ul>
      <p>With Microsoft&#174; Windows&#160;Server&#8482;&#160;2003, Enterprise Edition, and Windows Server&#160;2003, Datacenter Edition, you can use clustering to ensure that users have constant access to important server-based resources. With clustering, you create several cluster nodes that appear to users as one server. If one of the nodes in the cluster fails, another node begins to provide service (a process known as failover). Critical applications and resources remain continuously available.</p>
      <p>For technical information and resources to help you evaluate, deploy, and administer the Windows server operating systems, see the Windows Server TechCenter on the Web at: </p>
      <p>
        <a href="http://go.microsoft.com/fwlink/?LinkID=28944" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=28944</a>
      </p>
    
      <a name="PreparingforUpgradingClustering"></a><A name="EFDBJBHA"></A><h3 class="subHeading">Preparing for Upgrading Clustering</h3><div class="subSection">
          <p>The following sections provide information about the initial steps needed for upgrading clustering:</p>
          <ul><li>
              Understanding the basic preparations needed. <br></br>
            </li><li>
              Confirming your hardware compatibility with Windows Server&#160;2003, Datacenter Edition. <br></br>
            </li><li>
              Choosing from the available options for upgrading.<br></br>
            </li></ul>
        
          <h4 class="subHeading">Important Information to Review</h4><div class="subSection">
              <p>To prepare for upgrading clustering:</p>
              <ul><li>
                  Review "Getting Ready for an Upgrade" and "<a href="#BKMK_2">Running Setup for an Upgrade</a>" earlier in this topic for general information about Setup. <br></br>
                </li><li>
                  As described in "Getting Ready for an Upgrade", confirm that your hardware, including your cluster storage, is compatible with products in the Windows Server&#160;2003 family by checking the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a><br></br>
                </li><li>
                  In addition, check with the manufacturer of your cluster storage hardware to be sure you have the drivers you need to use the hardware with Windows Server&#160;2003, Datacenter Edition.<br></br>
                </li></ul>
            </div>
          <h4 class="subHeading">Other Sources of Information</h4><div class="subSection">
              <p>Following are sources of additional information about server clusters and other topics related to high availability:</p>
              <ul><li>
                  For more information about server clusters, see Help and Support Center. To do this, go to a computer running Windows Server&#160;2003, Enterprise Edition, or Windows Server&#160;2003, Datacenter Edition, click <b>Start</b>, and then click <b>Help and Support</b>. <br></br>
                </li></ul>
              <p>Look for the following sets of topics:</p>
              <p><b></b></p><table><tr>
                    <th>
                      Topic area
                    </th>
                    <th>
                      Navigation to use in the Table of Contents
                    </th>
                  </tr><tr>
                  <td>
                    <p>Installing and Upgrading on Cluster Nodes</p>
                  </td>
                  <td>
                    <p>Getting Started&gt;Installing and Upgrading on Cluster Nodes</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Troubleshooting cluster installation and upgrade problems</p>
                  </td>
                  <td>
                    <p>Getting Started&gt;Installing and Upgrading on Cluster Nodes&gt;Troubleshooting</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Troubleshooting other cluster problems</p>
                  </td>
                  <td>
                    <p>Availability and Scalability&gt;Windows Clustering&gt;Server Clusters&gt;Troubleshooting</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Best practices for installing and upgrading server clusters</p>
                  </td>
                  <td>
                    <p>Getting Started&gt;Installing and Upgrading on Cluster Nodes&gt;Best practices</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Other best practices for server clusters</p>
                  </td>
                  <td>
                    <p>Availability and Scalability&gt;Windows Clustering&gt;Server Clusters&gt;Best Practices</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Information about other technologies that enhance availability</p>
                  </td>
                  <td>
                    <p>Availability and Scalability</p>
                  </td>
                </tr></table>
              <ul><li>
                  For more information about the following topics, see the <i>Windows Deployment and Resource Kits</i>. <br></br>
                  <ul><li>
                      Backing up and restoring data and configuration information <br></br>
                    </li><li>
                      Deployment planning for server clusters and Network Load Balancing clusters <br></br>
                    </li><li>
                      Planning for high availability<br></br>
                    </li></ul>
                </li></ul>
              <p>You can view the Windows Deployment and Resource Kits on the Web at: <a href="http://go.microsoft.com/fwlink/?LinkId=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a></p>
              <ul><li>
                  For information about backup and recovery planning, change management, configuration management, and other concepts related to operational best practices, see resources in the Information Technology Infrastructure Library (ITIL). To see a description of ITIL, go to: <a href="http://go.microsoft.com/fwlink/?LinkId=37827" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37827</a><br></br>
                </li></ul>
              <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                <p>Web addresses can change, so you might be unable to connect to the Web site mentioned here.</p>
              </td></tr></table>
            </div>
          <h4 class="subHeading">Hardware Compatibility</h4><div class="subSection">
              <p>Microsoft supports only complete server cluster systems that are compatible with the Windows Server&#160;2003 family of products. Ensure that your entire cluster solution is compatible with products in the Windows Server&#160;2003 family by checking the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a></p>
            </div>
          <h4 class="subHeading">Options for Upgrading Clustering</h4><div class="subSection">
              <p>You have several options when upgrading clustering. You can:</p>
              <ul><li>
                  Upgrade a cluster that is running Microsoft Windows&#160;2000, possibly through a rolling upgrade. For more information, see "Upgrading a Cluster from Windows&#160;2000 to Windows Server&#160;2003, Datacenter Edition," later in this topic. <br></br>
                </li><li>
                  Perform a new installation of Windows Server&#160;2003, Datacenter Edition, and install the Cluster service at the same time. For more information about this option, see "<a href="#BKMK_6">Installing on Cluster Nodes</a>" later in this topic.<br></br>
                </li></ul>
            </div>
          <h4 class="subHeading">Quorum Resource Options</h4><div class="subSection">
              <p>With clusters running Windows Server&#160;2003, Datacenter Edition, you can choose between three&#160;ways to set up the quorum resource (the resource that maintains the definitive copy of the cluster configuration data and that&#160;must always be available for the cluster to run). These options are:</p>
              <ul><li>
                  Single node server cluster <br></br>
                </li><li>
                  Single quorum device server cluster <br></br>
                </li><li>
                  Majority node set<br></br>
                </li></ul>
              <p>Before upgrading, refer to "Quorum Resource Options" in "<a href="#BKMK_6">Installing on Cluster Nodes</a>" later in this topic to learn more about these options.</p>
            </div>
        </div>
      <a name="UpgradingaClusterfromWindows2000toWindowsServer2003DatacenterEdition"></a><A name="EFBBJBHA"></A><h3 class="subHeading">Upgrading a Cluster from Windows 2000 to Windows Server&#160;2003, Datacenter Edition</h3><div class="subSection">
          <p>If you are upgrading from Windows&#160;2000 to Windows Server&#160;2003, Datacenter Edition, on cluster nodes, you might be able to perform a rolling upgrade of the operating system. In a rolling upgrade, you sequentially upgrade the operating system on each node, making sure that one node is always available to handle client requests. When you upgrade the operating system, the Cluster service is automatically upgraded also. A rolling upgrade maximizes availability of clustered services and minimizes administrative complexity. For more information, see the next section "How Rolling Upgrades Work."</p>
          <p>To determine whether you can perform a rolling upgrade, and understand the effect that a rolling upgrade might have on your clustered resources, see "Restrictions on Rolling Upgrades" later in this topic. For information about ways to upgrade your cluster nodes if you cannot perform a rolling upgrade, see "Alternatives to Rolling Upgrades from Windows&#160;2000" later in this topic.</p>
        
          <h4 class="subHeading">How Rolling Upgrades Work</h4><div class="subSection">
              <p>This section describes rolling upgrades on server clusters. For information about methods, restrictions, and alternatives to rolling upgrades, see the sections that follow this section.</p>
              <p>There are two major advantages to a rolling upgrade. First, there is a minimal interruption of service to clients. (However, server response time might decrease during the phases in which a fewer number of nodes handle the work of the entire cluster.) Second, you do not have to recreate your cluster configuration. The configuration remains intact during the upgrade process.</p>
            
              <div class="subSection"><h5 class="subHeading">Phases of a Rolling Upgrade</h5>
                  <p>A rolling upgrade starts with two cluster nodes that are running Windows&#160;2000. In this example, they are named Node 1 and Node 2:</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Phase 1: Preliminary</h5>
                  <p>Each node runs Windows&#160;2000 Datacenter Server with the following hardware and software:</p>
                  <ul><li>
                      A cluster storage unit using Fibre Channel, not SCSI. Fibre Channel is the only type of cluster storage on the list of compatible hardware for Windows Server&#160;2003, Datacenter Edition. (Note that SCSI can be used for a two node cluster with Windows Server&#160;2003, Enterprise Edition, not Windows Server&#160;2003, Datacenter Edition.) <br></br>
                    </li><li>
                      The Cluster service component (one of the optional components of Windows&#160;2000 Datacenter Server). <br></br>
                    </li><li>
                      Applications that support a rolling upgrade. For more information, see the application documentation, and "Resource Behavior During Rolling Upgrades" later in this topic.<br></br>
                    </li></ul>
                  <p>At this point, your cluster is configured so that each node handles client requests (an active/active configuration).</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Phase 2: Upgrade Node 1</h5>
                  <p>Node 1 is paused, and Node 2 handles all cluster resource groups while you upgrade the operating system of Node 1 to Windows Server&#160;2003, Datacenter Edition.</p>
                  <p>You are now running a mixed-version cluster. A mixed-version cluster is a cluster in which the nodes are running different versions of the operating system. Although mixed-version clusters are supported by Windows Server&#160;2003, Datacenter Edition, they are not the optimal configuration. It is recommended that you upgrade all nodes to the same operating system by completing the final two phases of the rolling upgrade.</p>
                  <p>When your cluster is in a mixed version state, it is recommended that you do not make any changes to the cluster configuration, such as adding or removing nodes. It is also recommended that you do not make changes to any of the cluster resources while your cluster is in a mixed version state.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Phase 3: Upgrade Node 2</h5>
                  <p>Node 1 rejoins the cluster. Node 2 is paused and Node 1 handles all cluster resource groups while you upgrade the operating system on Node 2.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Phase 4: Final</h5>
                  <p>Node 2 rejoins the cluster, and you redistribute the resource groups back to the active/active cluster configuration.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell"><ul>
                    <li>If you plan to add nodes to the cluster, add them after completing the rolling upgrade. Before adding additional nodes, ensure that your entire cluster solution is compatible with products in the Windows Server&#160;2003 family. For more information see "Hardware Compatibility" earlier in this topic.</li>
                    <li>For cluster disks, you must use the NTFS file system and configure the disks as basic disks. You cannot configure cluster disks as dynamic disks, and you cannot use features of dynamic disks such as spanned volumes (volume sets).</li>
                  </ul></td></tr></table>
                </div>
              <div class="subSection"><h5 class="subHeading">Performing a Rolling Upgrade</h5>
                  <p>For an outline of the rolling upgrade process, see the preceding section "How Rolling Upgrades Work." To perform the following procedure, you must be a member of the Administrators group on the local computer, or you must have been delegated the appropriate authority. If the computer is joined to a domain, members of the Domain Admins group might be able to perform this procedure. As a security best practice, consider using Run as to perform this procedure. Run as is a secondary logon method that you can use to start commands or programs using a different security context. For example, you can log on as a member of the Users group and, without logging off, run a command as a member of the Administrators group. To find more information in Windows&#160;2000 about Run as, on a server running Windows&#160;2000, click Start, click Help, click the Search tab and then search for runas.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
                    <p>For information about what resources are supported during rolling upgrades, see "Restrictions on Rolling Upgrades" and "Resource Behavior During Rolling Upgrades" later in this topic.</p>
                  </td></tr></table>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To perform a rolling upgrade from Windows&#160;2000</b></td></tr></table><ol><li>
                        
                          <p>Confirm that your systems are running Windows&#160;2000 and use resources that are supported during a rolling upgrade, as described in "Restrictions on Rolling Upgrades" and "Resource Behavior During Rolling Upgrades" later in this topic</p>
                        
                      </li><li>
                        
                          <p>Confirm that your hardware is designed for or is compatible with Windows Server&#160;2003, Datacenter Edition.</p>
                        
                      </li><li>
                        
                          <p>In Cluster Administrator, click the node that you want to upgrade first.</p>
                        
                      </li><li>
                        
                          <p>On the File menu, click <b>Pause Node</b>.</p>
                        
                      </li><li>
                        
                          <p>In the right pane, click <b>Active Groups</b>.</p>
                        
                      </li><li>
                        
                          <p>In the right pane, click a group, and then on the <b>File</b> menu, click <b>Move Group</b>. Repeat this step for each group listed.</p>
                          <p>The services will be interrupted during the time they are being moved and restarted on another node. After the groups are moved, one node is idle, and the other nodes handle all client requests.</p>
                        
                      </li><li>
                        
                          <p>Use Setup for Windows Server&#160;2003, Datacenter Edition, to upgrade the paused node from Windows&#160;2000. (For information about running Setup, see "<a href="#BKMK_2">Running Setup for an Upgrade</a>" earlier in this topic.)</p>
                          <p>Setup detects the earlier version of clustering on the paused node and automatically installs clustering for Windows Server&#160;2003, Datacenter Edition. The node automatically rejoins the cluster at the end of the upgrade process, but is still paused and does not handle any cluster-related work.</p>
                          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                            <p>As you begin the setup process, you will receive a warning message about using the <b>tempdrive</b> option for Setup. Provided you have followed the preceding steps, you can click <b>OK</b> and proceed with Setup without using this option.</p>
                          </td></tr></table>
                        
                      </li><li>
                        
                          <p> To verify that the node that was upgraded is fully functional, perform validation tests such as confirming that the operating system recognizes your network connections and, using Device Manager, ensuring that the operating system recognizes all of your storage devices.</p>
                        
                      </li><li>
                        
                          <p> In Cluster Administrator, click the node that was paused, and then on the <b>File</b> menu click <b>Resume Node</b>.</p>
                          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                            <p>When you use Cluster Administrator for the first time on the upgraded node, Cluster Administrator will prompt you to Open connection to cluster. In the Cluster or server name field, type a period (.). This will connect you to the cluster on the local upgraded node. Although you can connect to the cluster by typing the cluster name, if you do so you will be connected to the cluster on the Windows&#160;2000 node and then will be required to respond to several warning messages.</p>
                          </td></tr></table>
                        
                      </li><li>
                        
                          <p>Repeat the preceding steps for the remaining nodes.</p>
                        
                      </li></ol>
                </div>
            </div>
          <h4 class="subHeading">Restrictions on Rolling Upgrades</h4><div class="subSection">
              <p>There are several basic restrictions to the rolling-upgrade process. The most basic restriction is as follows:</p>
              <ul><li>
                  You cannot mix x86-based and Itanium-based computers within the same cluster. Also, you cannot mix x86-based and x64-based computers with the same cluster. Therefore, you cannot perform a rolling upgrade from an x86-based computer to either an Itanium-based or x64-based computer.<br></br>
                </li></ul>
              <p>The remaining restrictions involve the beginning of Phase 3, in which you operate a mixed-version cluster: a cluster in which the nodes run different versions of the operating system. The operation of a mixed-version cluster is complicated if a resource type that you add to the cluster is supported in one version of the operating system but not the other. For example, the Cluster service in Windows Server&#160;2003, Datacenter Edition, supports the Generic Script resource type. However, older versions of the Cluster service do not support it.</p>
              <p>A mixed-version cluster can run a Generic Script resource on a node running Windows Server&#160;2003, Datacenter Edition, but not on a node running Windows&#160;2000. The Cluster service transparently sets the possible owners of new resource types to prevent these resources from failing over to a Windows&#160;2000 node of a mixed-version cluster. In other words, when you view the possible owners of a new resource type, a Windows&#160;2000 node will not be in the list, and you will not be able to add this node to the list. If you create such a resource during the mixed-version phase of a rolling upgrade, the resource groups containing those resources will not fail over to a Windows&#160;2000 node. </p>
              <p>In order for a mixed-version cluster to work, the different versions of the software running on each node must be prepared to communicate with one another. This requirement leads to several basic restrictions on the rolling-upgrade process.</p>
              <ul><li>
                  For a successful rolling upgrade, every resource that the cluster manages must be capable of a rolling upgrade. For more information, see "Resource Behavior During Rolling Upgrades" later in this topic. <br></br>
                </li><li>
                  During the mixed-version phase of a rolling upgrade, when the cluster nodes are running different versions of the operating system, do not change the settings of resources (for example, do not change the settings of a printer resource).<br></br>
                </li></ul>
              <p>If the preceding restriction cannot be met, do not perform a rolling upgrade. For more information, see "Alternatives to Rolling Upgrades from Windows&#160;2000" later in this topic.</p>
            </div>
          <h4 class="subHeading">Resource Behavior During Rolling Upgrades</h4><div class="subSection">
              <p>Although the Cluster service supports rolling upgrades, not all applications have seamless rolling-upgrade behavior. The following table describes the resources that are supported during a rolling upgrade. If you have a resource that is not fully supported during rolling upgrades, see "Alternatives to Rolling Upgrades from Windows&#160;2000" later in this topic.</p>
              <p><b></b></p><table><tr>
                    <th>
                      Resource
                    </th>
                    <th>
                      Rolling upgrade notes
                    </th>
                  </tr><tr>
                  <td>
                    <p>DHCP</p>
                  </td>
                  <td>
                    <p>DHCP is not fully supported during rolling upgrades. You must instead perform a "Last node rolling upgrade" as described in "Alternatives to Rolling Upgrades from Windows&#160;2000" later in this topic.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>File Share</p>
                  </td>
                  <td>
                    <p>Supported during rolling upgrades.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>IIS</p>
                  </td>
                  <td>
                    <p>IIS 6.0 is not supported during a rolling upgrade. When upgrading a cluster that contains an IIS resource, you must follow the procedure described in "Upgrades That Include an IIS Resource" later in this topic.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>IP Address</p>
                  </td>
                  <td>
                    <p>Supported during rolling upgrades.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Local Quorum</p>
                  </td>
                  <td>
                    <p>Supported during rolling upgrades.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>MSDTC</p>
                  </td>
                  <td>
                    <p>Supported during rolling upgrades. However, avoid creating or deleting the MSDTC resource while you are operating as a mixed version cluster. Instead create the MSDTC resource before starting the upgrade on any node, or wait until the upgrade is complete on all nodes. For more information about mixed version clusters, see "How Rolling Upgrades Work" and "Restrictions on Rolling Upgrades" earlier in this topic.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Message Queuing (also known as MSMQ)</p>
                  </td>
                  <td>
                    <p>Message Queuing is not fully supported during a rolling upgrade. To upgrade a cluster that includes Message Queuing, see "Upgrades That Include Message Queuing Resources" later in this topic.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Network Name</p>
                  </td>
                  <td>
                    <p>Supported during rolling upgrades.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>NNTP Service Instance</p>
                  </td>
                  <td>
                    <p>NNTP Service Instance is not supported in Windows Server&#160;2003, Datacenter Edition. You must remove any NNTP Service Instance resources prior to upgrading.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Physical Disk</p>
                  </td>
                  <td>
                    <p>Supported during rolling upgrades</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Print Spooler</p>
                  </td>
                  <td>
                    <p>The only Print Spooler resources supported during a rolling upgrade are those on LPR ports or standard port monitor ports. See the following section, "Upgrades that Include a Print Spooler Resource."</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>SMTP Service Instance</p>
                  </td>
                  <td>
                    <p>SMTP Service Instance is not supported in Windows Server&#160;2003, Datacenter Edition. You must remove any SMTP Service Instance resources prior to upgrading.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Time Service</p>
                  </td>
                  <td>
                    <p>Time Service is not supported in Windows Server&#160;2003, Datacenter Edition. You must remove any Time Service resources prior to upgrading.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>WINS</p>
                  </td>
                  <td>
                    <p>WINS is not fully supported during rolling upgrades. You must instead perform a "Last node rolling upgrade" as described in "Alternatives to Rolling Upgrades from Windows&#160;2000" later in this topic.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Other resource types</p>
                  </td>
                  <td>
                    <p>See Relnotes.htm on the Setup CD. Also see the product documentation that comes with the application or resource.</p>
                  </td>
                </tr></table>
              <p>When your cluster is in a mixed version state, it is recommended that you do not make any changes to the cluster configuration, such as adding or removing nodes. It is also recommended that you do not make changes to any of the cluster resources while your cluster is in a mixed version state.</p>
            
              <div class="subSection"><h5 class="subHeading">Upgrades That Include a Print Spooler Resource</h5>
                  <p>If you want to perform a rolling upgrade of a cluster that has a Print Spooler resource, you must consider two issues.</p>
                  <p>First, the Print Spooler resource only supports upgrades (including rolling upgrades or any other kind of upgrade) of printers on cluster-supported ports (LPR or Standard Port Monitor ports). For information about what to do if your printer is not supported, see "Alternatives to Rolling Upgrades from Windows&#160;2000" later in this topic.</p>
                  <p>Second, when you operate a mixed-version cluster including a Print Spooler resource, note the following:</p>
                  <ul><li>
                      Do not change printer settings in a mixed-version cluster with a Print Spooler resource. <br></br>
                    </li><li>
                      Avoid adding new printers while you are performing a rolling upgrade. If you do add a new printer, when you install the drivers for that printer, be sure to install both the driver for Windows&#160;2000 and the driver for Windows Server&#160;2003, Datacenter Edition, on all nodes. <br></br>
                    </li><li>
                      If printing preferences or defaults are important, be sure to check them. Printing preferences in Windows Server&#160;2003, Datacenter Edition, will not be necessarily correspond to document defaults for the same printer in Windows&#160;2000. This can be affected by differences in the drivers for the two operating systems.<br></br>
                    </li></ul>
                  <p>When the rolling upgrade is complete and both cluster nodes are running the updated operating system, you can make any modifications you choose to your printer configuration.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Alternatives to Rolling Upgrades from Windows&#160;2000</h5>
                  <p>Certain resources are not supported during rolling upgrades, including:</p>
                  <ul><li>
                      Internet Information Services (IIS) <br></br>
                    </li><li>
                      DHCP <br></br>
                    </li><li>
                      WINS<br></br>
                    </li></ul>
                  <p>Special procedures, described in the sections that follow, must be used when performing an upgrade of a cluster that contains these resources. In addition to the resource types listed previously, you might also have other resources that are not supported during rolling upgrades. Be sure to read Relnotes.htm on the Setup CD, as well as the product documentation that comes with the application or resource.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Upgrades That Include an IIS Resource</h5>
                  <p>IIS 6.0 is not supported during rolling upgrades. To upgrade a clustered IIS resource, you must replace the existing IIS resource with a Generic Script Resource. You have two options to do this; you can perform each of the steps as described in the following procedure, or you can use a script that is supplied with Windows Server&#160;2003, Datacenter Edition, which automates many of the steps. The instructions for using the script are described in the second procedure. To perform either of the following procedures, you must be a member of the Administrators group on the local computer, or you must have been delegated the appropriate authority. If the computer is joined to a domain, members of the Domain Admins group might be able to perform these procedures. As a security best practice, consider using <b>Run as</b> to perform either of these procedures. <b>Run as</b> is a secondary logon method that you can use to start commands or programs using a different security context. For example, you can log on as a member of the Users group and, without logging off, run a command as a member of the Administrators group. To find more information in Windows&#160;2000 about <b>Run as</b>, on a server running Windows&#160;2000, click <b>Start</b>, click <b>Help</b>, click the <b>Search </b>tab, and then search for <b>runas</b>.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To upgrade from Windows&#160;2000 without using the provided script on a cluster that includes an IIS resource</b></td></tr></table><ol><li>
                        
                          <p>Confirm that your hardware is designed for or is compatible with Windows Server&#160;2003, Datacenter Edition.</p>
                        
                      </li><li>
                        
                          <p>Upgrade all nodes except the node containing the IIS instance resource from Windows&#160;2000 to Windows Server&#160;2003, Datacenter Edition. You can perform either a rolling upgrade, or a nonrolling upgrade, whichever is appropriate for your installation. Prior to upgrading, be sure to remove the resources that are not supported by Windows Server&#160;2003, Datacenter Edition. Do this by using Cluster Administrator and clicking the <b>Resource</b> folder in the console tree. In the details pane, click the resource that you want to remove, then on the <b>File</b> menu, click <b>Delete</b>. For more information, see "Restrictions on Rolling Upgrades" earlier in this topic. For general information about Setup, see "Getting Ready for an Upgrade" and "<a href="#BKMK_2">Running Setup for an Upgrade</a>" earlier in this topic.</p>
                        
                      </li><li>
                        
                          <p>If you do not already have a Distributed Transaction Coordinator (DTC) resource on the cluster that you are upgrading, create a DTC resource for this cluster on an upgraded node.</p>
                          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                            <p>To cluster IIS on Windows Server&#160;2003, Datacenter Edition, you must have a DTC resource on that cluster as well.</p>
                          </td></tr></table>
                        
                      </li><li>
                        
                          <p>On the Windows&#160;2000 node, note the dependencies of the IIS instance resource. Note resources that depend on the IIS resource and also note what resources IIS itself is dependent on.</p>
                        
                      </li><li>
                        
                          <p>Take the group containing the IIS instance resource offline by using Cluster Administrator and clicking the <b>Groups</b> folder. In the details pane, click the group containing the IIS resource, then on the <b>File</b> menu, click <b>Take Offline</b>.</p>
                        
                      </li><li>
                        
                          <p>Remove any dependencies on the IIS instance resource by using Cluster Administrator and clicking the Resources folder. For each resource that is dependent on the IIS instance resource, in the details pane, click the resource you want to modify, then on the <b>File</b> menu, click <b>Properties</b>. On the <b>Dependencies</b> tab, click <b>Modify</b>. Click the IIS resource in the <b>Dependencies </b>list and click the left arrow to move it to the <b>Available resources</b> list.</p>
                        
                      </li><li>
                        
                          <p>Delete the IIS instance resource by using Cluster Administrator and clicking the <b>Resource </b>folder in the console tree. In the details pane, click the IIS instance resource, then on the <b>File </b>menu, click <b>Delete</b>.</p>
                          <p>Move the group to a node that is running Windows Server&#160;2003, Datacenter Edition, and create a Generic Script resource by following the procedure documented in "Checklist: Creating a clustered IIS Web or FTP service." To find this procedure, click <b>Start</b> on an upgraded node (one of the nodes running Windows Server&#160;2003, Datacenter Edition), click <b>Help and Support</b>, and click Availability and Scalability. Click Windows Clustering, click <b>Server Clusters</b>, click <b>Checklists: Creating Server Clusters</b>, then click <b>Checklist: Creating a clustered IIS Web or FTP service</b>.</p>
                          <p>As part of this step, recreate the dependencies of the Generic Script resource identical to those of the now deleted IIS resource. Make everything that was dependent on the IIS resource dependent instead on the Generic Script resource. Also make the Generic Script resource dependent on everything that IIS was dependent on.</p>
                          <p>Only upgraded nodes can be the owner of the Generic Script Resource created in this procedure because this resource type is not supported in Windows&#160;2000.</p>
                          <p>Start the W3SVC service on this node and set the W3SVC service to start automatically. For more information about the W3SVC, see the topic titled "Internet Information Services (IIS) security." To find this topic, click <b>Start</b> on the upgraded node, click <b>Help and Support</b>, and <b>click Internet Services</b>. Click <b>Internet Information Services</b>, then click <b>Internet Information Services (IIS) security</b>.</p>
                        
                      </li><li>
                        
                          <p>Bring the group containing the new Generic Script resource online by using Cluster Administrator and clicking the <b>Groups</b> folder. In the details pane, click the group containing the Generic Script resource, then on the <b>File</b> menu, click <b>Bring Online</b>.</p>
                        
                      </li><li>
                        
                          <p>Using IIS, start the Web site on the upgraded node.</p>
                        
                      </li><li>
                        
                          <p>Upgrade the final node to Windows Server&#160;2003, Datacenter Edition. Once the upgrade is complete, start the W3SVC service on this node and set the W3SVC service to start automatically.</p>
                          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                            <p>Although suitable for most situations, it is not necessary to upgrade all nodes but one in the first step. Depending on your availability needs and the number of nodes in your cluster, you can modify the sequence of the preceding steps by performing steps three through 11 after only one, two or three nodes are upgraded. After upgrading between one and three nodes, create the Generic Script resource and bring it online. Then upgrade the remaining nodes.</p>
                          </td></tr></table>
                        
                      </li></ol>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To use the provided script to upgrade from Windows&#160;2000 on a cluster that includes an IIS resource</b></td></tr></table><ol><li>
                        
                          <p>Confirm that your hardware is designed for or is compatible with Windows Server&#160;2003, Datacenter Edition.</p>
                        
                      </li><li>
                        
                          <p>Upgrade all nodes except the node containing the IIS instance resource from Windows&#160;2000 to Windows Server&#160;2003, Datacenter Edition. You can perform either a rolling upgrade, or a nonrolling upgrade, whichever is appropriate for your installation. Prior to upgrading, be sure to remove the resources that are not supported by Windows Server&#160;2003, Datacenter Edition. Do this by using Cluster Administrator and clicking the <b>Resource</b> folder in the console tree. In the details pane, click the resource that you want to remove, and then on the <b>File</b> menu, click <b>Delete</b>. For more information, see "Restrictions on Rolling Upgrades" earlier in this topic. For general information about Setup, see "Getting Ready for an Upgrade" and "<a href="#BKMK_2">Running Setup for an Upgrade</a>" earlier in this topic.</p>
                        
                      </li><li>
                        
                          <p>If you do not already have a Distributed Transaction Coordinator (DTC) resource on the cluster that you are upgrading, create a DTC resource for this cluster on an upgraded node.</p>
                          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                            <p>To cluster IIS on Windows Server&#160;2003, Datacenter Edition, you must have a DTC resource on that cluster as well.</p>
                          </td></tr></table>
                        
                      </li><li>
                        
                          <p>On an upgraded node, open a Command Prompt and navigate to the <b>%systemroot%\system32\inetsrv</b> directory.</p>
                        
                      </li><li>
                        
                          <p>Type:</p>
                          <p>
                            <b>iis_switch </b>
                            <i>cluster name [group name]</i>
                          </p>
                          <p>where</p>
                          <ul><li>
                              
                                <i>cluster name</i> is the name of a physical node in the cluster that has been upgraded or the name of a virtual server<br></br>
                            </li><li>
                              
                                <i>group name</i> is optional, because the script will, by default, upgrade all IIS web and FTP resources in the cluster. However, if you want to upgrade only one particular group, you can specify the name of that resource group.<br></br>
                            </li></ul>
                          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
                            <p>The resource group that includes the IIS resource must be on the Windows 2000 node when you run the script.</p>
                          </td></tr></table>
                          <p>The script includes a step that will bring the group with the newly created Generic Script resource online. However, the script will only bring the group online if all resources in the group were online before the script was run. If the group was only partially online or was offline prior to the script being run, the script will take the entire group offline and will not bring any resources back online after the upgrade.</p>
                          <p>Once the script completes, the newly created resource might immediately fail. This is because the W3SVC service is disabled. You can correct this problem by completing the following step.</p>
                          <p>Once the script completes, take the newly created Generic Script resource offline, then start the W3SVC service on the upgraded node and set the W3SVC to start automatically. For more information about the W3SVC, see the topic titled "Internet Information Services (IIS) security." To find this topic, click Start on the upgraded node, click <b>Help and Support</b>, and click <b>Internet Services</b>. Click <b>Internet Information Services</b>, then click <b>Internet Information Services (IIS) security</b>.</p>
                        
                      </li><li>
                        
                          <p>Bring the Generic Script resource online.</p>
                        
                      </li><li>
                        
                          <p>Using IIS, start the Web site on the upgraded node.</p>
                        
                      </li><li>
                        
                          <p>Upgrade the final node to Windows Server&#160;2003, Datacenter Edition. Once the upgrade is complete, start the W3SVC service on this node and set the service to start automatically.</p>
                        
                      </li><li>
                        
                          <p>If appropriate, add the final upgraded node to the <b>Possible Owners</b> list for the newly created Generic Script resource by using the Cluster Administrator and clicking the Resource folder. In the details pane, click the Generic Script resource. On the <b>File</b> menu, click <b>Properties</b>. On the <b>General</b> tab, next to <b>Possible owners</b>, click <b>Modify</b>.</p>
                          <p>Only upgraded nodes can be the owner of the Generic Script Resource created in this procedure because this resource type is not supported in Windows&#160;2000.</p>
                          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                            <p>The script will not upgrade IIS resources that are in the cluster group. If you have IIS resources that are in the cluster group, you can instead use the procedure "To upgrade from Windows&#160;2000 without using the provided script on a cluster that includes an IIS resource" earlier in this topic. The script sets the script path as %systemroot%\system32\inetsrv\ a default. You can modify this path if necessary. Although suitable for most situations, it is not necessary to upgrade all nodes but one in the first step. Depending on your availability needs and the number of nodes in your cluster, you can modify the sequence of the preceding steps by performing steps two through four after only one, two or three nodes are upgraded. After upgrading between one and three nodes, create the Generic Script resource and bring it online. Then upgrade the remaining nodes.</p>
                          </td></tr></table>
                        
                      </li></ol>
                </div>
              <div class="subSection"><h5 class="subHeading">Upgrades That Include Message Queuing Resources</h5>
                  <p>Message Queuing is not fully supported during a rolling upgrade. To perform the following procedure, you must be a member of the Administrators group on the local computer, or you must have been delegated the appropriate authority. If the computer is joined to a domain, members of the Domain Admins group might be able to perform this procedure. As a security best practice, consider using <b>Run as</b> to perform this procedure. <b>Run as</b> is a secondary logon method that you can use to start commands or programs using a different security context. For example, you can log on as a member of the Users group and, without logging off, run a command as a member of the Administrators group. To find more information in Windows&#160;2000 about <b>Run as</b>, on a server running Windows&#160;2000, click <b>Start</b>, click <b>Help</b>, click the <b>Search </b>tab, and then search for <b>runas</b>.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To upgrade from Windows&#160;2000 on a cluster that contains Message Queuing resources</b></td></tr></table><ol><li>
                        
                          <p>Confirm that your hardware is designed for or is compatible with Windows Server&#160;2003, Datacenter Edition.</p>
                        
                      </li><li>
                        
                          <p>Take all of the Message Queuing cluster resources offline by using Cluster Administrator and clicking the <b>Resources</b> folder. In the details pane, click each <b>Message Queuing resource</b>, then on the <b>File</b> menu, click <b>Take Offline</b>.</p>
                        
                      </li><li>
                        
                          <p>For each Message Queuing resource, take the Network Name resource that depends on it offline also.</p>
                        
                      </li><li>
                        
                          <p>Upgrade all of the nodes from Windows&#160;2000 to Windows Server&#160;2003, Datacenter Edition. Prior to upgrading, be sure to remove the resources that are not supported by Windows Server&#160;2003, Datacenter Edition. Do this by using Cluster Administrator and clicking the <b>Resource</b> folder in the console tree. In the details pane, click the resource that you want to remove, then on the <b>File</b> menu, click <b>Delete</b>.</p>
                        
                      </li><li>
                        
                          <p>Bring the Network Name resources back online. Ensure that the Distributed Transaction Coordinator (DTC) resource is online, then bring the Message Queuing resources online.</p>
                        
                      </li></ol>
                </div>
              <div class="subSection"><h5 class="subHeading">Last Node Rolling Upgrades</h5>
                  <p>If you have other resources on your cluster such as DHCP and WINS that are not fully supported during a rolling upgrade and are not described by other technology specific procedures listed previously (such as IIS), you can perform a "last node rolling upgrade."</p>
                  <p>Last node rolling upgrades are similar to standard rolling upgrades. In a last node rolling upgrade, you upgrade all nodes except the node that contains the unsupported resources. After all other nodes are upgraded, you then upgrade the final node containing the identified resources.</p>
                  <p>Last node rolling upgrades are a way to accommodate resources that cannot fail over to an older operating system from a node running Windows Server&#160;2003, Datacenter Edition. Be aware that these resources can, however, fail over the other way, that is, from the older operating system to Windows Server&#160;2003, Datacenter Edition.</p>
                  <p>To perform the following procedure, you must be a member of the Administrators group on the local computer, or you must have been delegated the appropriate authority. If the computer is joined to a domain, members of the Domain Admins group might be able to perform this procedure. As a security best practice, consider using <b>Run as</b> to perform this procedure. <b>Run as</b> is a secondary logon method that you can use to start commands or programs using a different security context. For example, you can log on as a member of the Users group and, without logging off, run a command as a member of the Administrators group. To find more information in Windows&#160;2000 about <b>Run as</b>, on a server running Windows&#160;2000, click <b>Start</b>, click <b>Help</b>, click the <b>Search</b> tab, and then search for <b>runas</b>.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To perform a last node rolling upgrade from Windows&#160;2000</b></td></tr></table><ol><li>
                        
                          <p>Confirm that your systems are running Windows&#160;2000.</p>
                        
                      </li><li>
                        
                          <p>Confirm that your hardware is designed for or is compatible with Windows Server&#160;2003, Datacenter Edition.</p>
                        
                      </li><li>
                        
                          <p>Using the information in "Resource Behavior During Rolling Upgrades" earlier in this topic, identify the resources in your cluster that are not supported by Windows Server&#160;2003, Datacenter Edition, and remove those resources. Do this by using Cluster Administrator and clicking the <b>Resource</b> folder in the console tree. In the details pane, click the resource that you want to remove, then on the <b>File</b> menu, click <b>Delete</b>.</p>
                        
                      </li><li>
                        
                          <p>Again using the information in "Resource Behavior During Rolling Upgrades" earlier in this topic, identify the resources in your cluster that are not supported during rolling upgrades and are not covered by other technology specific upgrade procedures described previously.</p>
                        
                      </li><li>
                        
                          <p>Move all of the resources identified in the previous step to a single node by double-clicking the Groups folder in the Cluster Administrator console tree. Click the group that contains the resource and then in the File menu, click <b>Move Group</b>.</p>
                        
                      </li><li>
                        
                          <p>Upgrade the operating system on each of the nodes that is not hosting the resources moved in the previous step.</p>
                        
                      </li><li>
                        
                          <p>Move all of the resources that you moved in the earlier steps from the node that has not been upgraded to one of the newly upgraded nodes.</p>
                        
                      </li><li>
                        
                          <p>Once all of the resources have been moved, upgrade the final node. After you upgrade, close the <b>Manage Your Server</b> dialog box if it is displayed.</p>
                          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                            <p>It is not mandatory to move all of these resources to a single node and upgrade that node last. However, following the procedure as described will typically give you the highest availability of the resources that do not support rolling upgrades. </p>
                          </td></tr></table>
                        
                      </li></ol>
                </div>
            </div>
        </div>
    </div><p class="TopOfPage"><A href="#pagetop" class="TopOfPageLink">Top of page</A></p><a name="BKMK_4"></a><h1 class="heading"><A name="EFHBHA"></A>Getting Ready for a New Installation</h1><div id="sectionSection3" class="section">
      <ul><li>
          
            <a href="#UpgradesComparedtoNewInstallations2">Upgrades Compared to New Installations</a>
          <br></br>
        </li><li>
          
            <a href="#SystemRequirementsandHardwareCompatibility">System Requirements and Hardware Compatibility</a>
          <br></br>
        </li><li>
          
            <a href="#ImportantFilesToReview">Important Files to Review</a>
          <br></br>
        </li><li>
          
            <a href="#DecisionstoMakeforaNewInstallation">Decisions to Make for a New Installation</a>
          <br></br>
        </li><li>
          
            <a href="#ChoosingaLicensingMode">Choosing a Licensing Mode</a>
          <br></br>
        </li><li>
          
            <a href="#ChoosingaFileSystemfortheInstallationPartition">Choosing a File System for the Installation Partition</a>
          <br></br>
        </li><li>
          
            <a href="#PlanningDiskPartitionsorVolumesforNewInstallations">Planning Disk Partitions or Volumes for New Installations</a>
          <br></br>
        </li><li>
          
            <a href="#NetworksTCPIPIPAddressesandNameResolution">Networks: TCP/IP, IP Addresses, and Name Resolution</a>
          <br></br>
        </li><li>
          
            <a href="#DecidingBetweenWorkgroupsandDomains">Deciding Between Workgroups and Domains</a>
          <br></br>
        </li></ul>
      <p>This topic can help you plan for the installation of Microsoft&#174; Windows&#160;Server&#8482;&#160;2003, Datacenter Edition, in a network with one to five servers and 100 or fewer clients. For help with planning the upgrade or installation of a larger number of servers, see the Windows Deployment and Resource Kits on the Web at: <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a></p>
      <p>For technical information and resources to help you evaluate, deploy, and administer the Windows server operating systems, see the Windows Server TechCenter on the Web at: <a href="http://go.microsoft.com/fwlink/?LinkID=28944" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=28944</a></p>
      <p>For detailed information about how to run Setup, see "<a href="#BKMK_5">Running Setup for a New Installation</a>" later in this topic. If you have a server cluster, also be sure to read "<a href="#BKMK_6">Installing on Cluster Nodes</a>" later in this topic. </p>
      <p>If you want to plan for an upgrade, see "Getting Ready for an Upgrade" at the beginning of this document.</p>
      <p>After you make the decisions outlined in this topic, you will be ready to run Setup for Windows Server&#160;2003, Datacenter Edition, and begin preparing your server for operation.</p>
    
      <a name="UpgradesComparedtoNewInstallations2"></a><A name="EFRBHBHA"></A><h3 class="subHeading">Upgrades Compared to New Installations</h3><div class="subSection">
          <p>This section compares upgrading to performing a new installation, to help you confirm your decision to perform a new installation. Upgrading is replacing Microsoft Windows&#160;2000 Datacenter Server with Windows Server&#160;2003, Datacenter Edition. Installing, in contrast with upgrading, means completely removing the previous operating system, or installing a product in the Windows Server&#160;2003 family on a disk or disk partition with no previous operating system.</p>
          <p>The following lists describe items to consider when deciding between an upgrade and a new installation:</p>
        
          <div class="subSection">
            
              <div class="subSection"><h5 class="subHeading">Points to consider for an upgrade:</h5>
                  <ul><li>
                      With an upgrade, configuration is simpler, and your existing users, settings, groups, rights, and permissions are retained. <br></br>
                    </li><li>
                      With an upgrade, you do not need to re-install files and applications. As with any major changes to the hard disk, however, it is recommended that you back up the disk before beginning an upgrade. <br></br>
                    </li><li>
                      Before beginning an upgrade, see "Getting Ready for an Upgrade" at the beginning of this document.<br></br>
                    </li><li>
                      If you want to upgrade and then use the same applications as before, be sure to review applications information in Relnotes.htm (on the Setup CD). Also, for the most recent information about compatible applications for products in the Windows Server&#160;2003 family, see the software compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37604" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37604</a><br></br>
                    </li></ul>
                </div>
              <div class="subSection"><h5 class="subHeading">Points to consider for a new installation:</h5>
                  <ul><li>
                      If you reformat your hard disk and then perform a new installation, the efficiency of your disk might improve (compared to not reformatting it). Reformatting also gives you the opportunity to modify the size or number of disk partitions, to make them match your requirements more closely. <br></br>
                    </li><li>
                      If you want to practice careful configuration management, for example, for a server where high availability is important, you might want to perform a new installation on that server instead of an upgrade. This is especially true on servers on which the operating system has been upgraded several times in the past.<br></br>
                    </li></ul>
                </div>
            </div>
        </div>
      <a name="SystemRequirementsandHardwareCompatibility"></a><A name="EFPBHBHA"></A><h3 class="subHeading">System Requirements and Hardware Compatibility</h3><div class="subSection">
          <p>Before installing your server, make sure that you have chosen hardware that supports Windows Server&#160;2003, Datacenter Edition.</p>
        
          <h4 class="subHeading">System Requirements</h4><div class="subSection">
              <p>Computers that run Windows Server&#160;2003, Datacenter Edition, must be on the compatibility list for Windows Server&#160;2003, Datacenter Edition. For details, see the hardware compatibility information in the Windows Catalog at:</p>
              <p>
                <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a>
              </p>
              <p>The requirements for systems on the compatibility list for Windows Server&#160;2003, Datacenter Edition, include the following:</p>
              <ul><li>
                  
                    <b>For an x86-based computer: </b>
                  <br></br>
                  <ul><li>
                      Must be able to support eight or more processors with a minimum speed of 400 megahertz (MHz). For new installations, the minimum processor speed is 550 MHz. A maximum of 32&#160;processors per computer is supported. <br></br>
                    </li><li>
                      512 megabytes (MB) of RAM minimum, 64&#160;gigabytes (GB) maximum. <br></br>
                    </li><li>
                      2 gigabytes (GB) of free hard-disk space (minimum) for Setup.<br></br>
                    </li></ul>
                </li><li>
                  
                    <b>For an Itanium-based computer: </b>
                  <br></br>
                  <ul><li>
                      Must be able to support eight or more processors with a minimum speed of 733 MHz. A maximum of 64&#160;processors per computer is supported. <br></br>
                    </li><li>
                      1 GB of RAM minimum, 1024 GB (1 Terabyte) maximum. <br></br>
                    </li><li>
                      4 gigabytes (GB) of free hard-disk space (minimum) for Setup<br></br>
                    </li></ul>
                </li><li>
                  
                    <b>For an x64-based computer: </b>
                  <br></br>
                  <ul><li>
                      Must be able to support eight or more processors with a minimum speed of 1.4 gigahertz (GHz). A maximum of 64&#160;processors per computer is supported <br></br>
                    </li><li>
                      1 GB of RAM minimum, 1024&#160;GB (1 Terabyte) maximum. <br></br>
                    </li><li>
                      4 gigabytes (GB) of free hard-disk space (minimum) for Setup <br></br>
                      For computers with more than 4 GB of RAM, be sure to check the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a><br></br>
                      A hard disk partition or volume with enough free space to accommodate the setup process. To ensure that you have flexibility in your later use of the operating system, it is recommended that you allow considerably more space than the minimum required for running Setup, which is approximately 2 GB to 3&#160;GB on an x86-based computer and 4&#160;GB on an Itanium-based or x64-based computer. The larger amount of space is required if you are running Setup across a network instead of from a CD-ROM.<br></br>
                    </li></ul>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                    <p>The setup process requires the free disk space described in the previous paragraph. After Setup is finished, actual hard disk space used for the operating system will be more than the free space required for Setup, because of space needed for the paging file, for any optional components you install, and (on domain controllers) for user accounts and other Active Directory&#174; information. The usual size for the paging file is 1.5 times the size of the RAM. For information about the paging file, optional components, user accounts, and information stored in Active Directory, see Help and Support Center. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
                  </td></tr></table>
                </li><li>
                  VGA or higher-resolution monitor (Super VGA 800x600 or higher recommended), keyboard, and (optionally) a mouse or other pointing device. <br></br>
                  As an alternative, for operation without a monitor or keyboard, you can choose a remote&#160;diagnostic and support processor that is designed for products in the Windows Server&#160;2003 family. For details, see the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a><br></br>
                </li></ul>
              <p>
                <b>For CD-ROM installation:</b>
              </p>
              <ul><li>
                  A CD-ROM or DVD drive.<br></br>
                </li></ul>
              <p>
                <b>For network installation:</b>
              </p>
              <ul><li>
                  One or more network adapters and related cables that are designed for products in the Windows Server&#160;2003 family. For details, see the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a><br></br>
                </li><li>
                  A server from which to offer network access for the Setup files.<br></br>
                </li></ul>
            </div>
          <h4 class="subHeading">Hardware Compatibility</h4><div class="subSection">
              <p>When you purchase a server running Windows Server&#160;2003, Datacenter Edition, you are purchasing a system that has been extensively tested for compatibility between the hardware components, the drivers, and the operating system. For more information hardware compatibility, contact your hardware manufacturer, and see the hardware compatibility information in the Windows Catalog at:</p>
              <p>
                <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a>
              </p>
            
              <div class="subSection"><h5 class="subHeading">Mass Storage Drivers and the Setup Process</h5>
                  <p>If you have a mass storage controller (such as a SCSI, RAID, or Fibre Channel adapter) for your hard disk, confirm that the controller is designed for products in the Windows Server&#160;2003 family by checking the hardware and software compatibility information in the Windows Catalog at:</p>
                  <p>
                    <a href="http://go.microsoft.com/fwlink/?LinkId=37823" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37823</a>
                  </p>
                  <p>If your controller is compatible, but you are aware that the manufacturer has supplied a separate driver file for use with products in the Windows Server&#160;2003 family, obtain the file (on a floppy disk) before you begin Setup. During the early part of Setup, a line at the bottom of the screen will prompt you to press F6. Further prompts will guide you in supplying the driver file to Setup so that it can gain access to the mass storage controller.</p>
                  <p>If you are not sure whether you must obtain a separate driver file from the manufacturer of your mass storage controller, you can try running Setup. If the controller is not supported by the driver files on the Setup CD, and therefore requires a driver file that is supplied by the hardware manufacturer, Setup stops and displays a message saying that no disk devices can be found, or it displays an incomplete list of controllers. After you obtain the necessary driver file, restart Setup, and press F6 when you are prompted.</p>
                </div>
            </div>
          <h4 class="subHeading">Using a Custom Hardware Abstraction Layer (HAL) File</h4><div class="subSection">
              <p>If you have a custom Hardware Abstraction Layer (HAL) file supplied by your computer manufacturer, before you begin Setup, locate the floppy disk or other medium containing the file. During the early part of Setup, a line at the bottom of the screen will prompt you to press F6: at this time press F5 (not F6). After you press F5, follow the prompts to include your HAL file in the Setup process.</p>
            
              <div class="subSection"><h5 class="subHeading">Using Dynamic Update for Updated Drivers and Other Setup Files</h5>
                  <p>If you have a working Internet connection on the computer on which you run Setup, you can choose Dynamic Update during Setup and obtain the most up-to-date Setup files, including drivers and other files. Whenever an important update is made to any crucial Setup file, that update is made available through Dynamic Update functionality built into the Windows Update Web site. Some of the updated files will be replacements (for example, an updated driver or updated Setup file) and some will be additions (for example, a driver not available at the time that the Setup CD was created). It is recommended that you use Dynamic Update when running Setup.</p>
                  <p>Dynamic Update has been carefully designed so that it is reliable and easy to use:</p>
                  <ul><li>
                      The files on the Dynamic Update section of the Windows Update Web site have been carefully tested and selected. Only files that are important in ensuring that Setup runs well are made available through Dynamic Update. Files with minor updates that will not significantly affect Setup are not part of Dynamic Update. <br></br>
                    </li><li>
                      Because Dynamic Update downloads only the files that are required for your computer, the Dynamic Update software briefly examines your computer hardware. No personal information is collected, and no information is saved. The only purpose is to select appropriate drivers for your hardware configuration. This keeps the download as short as possible and ensures that only necessary drivers are downloaded to your hard disk. <br></br>
                    </li><li>
                      You can use Dynamic Update when running a preinstallation compatibility check from the product CD, or when running Setup itself. Either way, you obtain the most up-to-date files for running Setup. For information about running the compatibility check, see "Hardware Compatibility" earlier in this topic. <br></br>
                    </li><li>
                      You can use Dynamic Update with unattended Setup. Preparing for this requires several steps. For a brief description of unattended Setup, see the "Planning for Unattended Setup" section in "<a href="#BKMK_5">Running Setup for a New Installation</a>" on. For details about how to use Dynamic Update with unattended Setup (also called automated installation), see the Windows Deployment and Resource Kits Web site at: <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a><br></br>
                    </li></ul>
                  <p>The Windows Update Web site offers a variety of updates that you can use after completing Setup. To learn more, go to: <a href="http://go.microsoft.com/fwlink/?linkid=284" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=284</a></p>
                </div>
            </div>
        </div>
      <a name="ImportantFilesToReview"></a><A name="EDNBHBHA"></A><h3 class="subHeading">Important Files to Review</h3><div class="subSection">
          <p>At some point in your planning process, before you run Setup, familiarize yourself with the Relnotes.htm file found on the Setup.</p>
          <p>This file contains important usage information about hardware, networking, applications, and printing. Also familiarize yourself with information about hardware compatibility for products in the Windows Server&#160;2003 family. For more information, see "Hardware Compatibility" earlier in this topic.</p>
          <p>For the most recent information about compatible applications for products in the Windows Server&#160;2003 family, see the software compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37604" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37604</a></p>
        </div>
      <a name="DecisionstoMakeforaNewInstallation"></a><A name="EFLBHBHA"></A><h3 class="subHeading">Decisions to Make for a New Installation</h3><div class="subSection">
          <p>This list outlines the basic decisions to make for a new installation.</p>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
            <p>On an Itanium-based computer, you can install an Itanium-based version of the Windows operating systems. On an x64-based computer, you can install an x64-based version of Windows or an earlier 32-bit version of the Windows operating systems. </p>
          </td></tr></table>
        
          <div class="subSection">
            
              <div class="subSection"><h5 class="subHeading">What licensing mode to use</h5>
                  <p>With products in the Windows Server&#160;2003 family, you can choose between two licensing modes:</p>
                  <ul><li>
                      
                        <b>Per Device or Per User </b>
                      <br></br>
                    </li><li>
                      
                        <b>Per Server</b>
                      <br></br>
                    </li></ul>
                  <p>
                    <b>Per Device or Per User</b> mode requires a separate Client Access License (CAL) for each device or user that accesses a server running a product in the Windows Server&#160;2003 family. <b>Per Server</b> mode requires a separate CAL for each concurrent connection to a server. For more information about licensing, see "Choosing a Licensing Mode" later in this topic.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">What file system to use on the installation partition</h5>
                  <p>You can potentially choose among three file systems for an installation partition: NTFS, FAT, and FAT32. NTFS is strongly recommended in most situations. It is the only file system that supports Active Directory&#174;, which includes many important features such as domains and domain-based security.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">What partition or volume you plan to install the operating system on</h5>
                  <p>If you are performing a new installation, review your disk partitions or volumes before you run Setup (for an upgrade, you will use existing partitions or volumes). Both partitions and volumes divide a disk into one or more areas that can be formatted for use by one file system. Different partitions and volumes often have different drive letters (for example, C: and D:). After you run Setup, you can make adjustments to the disk configuration, as long as you do not reformat or change the partition or volume that contains the operating system. For information about planning the partitions or volumes for a new installation, see "Planning Disk Partitions or Volumes for New Installations" later in this topic.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">How to handle IP addresses and TCP/IP name resolution</h5>
                  <p>With TCP/IP (the protocol used on the Internet), you need to make decisions about how to handle IP addressing and name resolution (the translating of IP addresses into names that users recognize). For more information, see "Networks: TCP/IP, IP Addresses, and Name Resolution" later in this topic.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Whether to create domains or workgroups for your servers</h5>
                  <p>A <i>domain</i> is a group of accounts and network resources&#160;that share a common directory database and set of security policies, and might have security relationships with other domains. A&#160;<i>workgroup</i> is a more basic grouping, intended only to help users find objects such as printers and shared folders within that group. Domains make it easier for an administrator to control access to resources and keep track of users. For more information, see "Deciding Between Workgroups and Domains" later in this topic.</p>
                </div>
            </div>
        </div>
      <a name="ChoosingaLicensingMode"></a><A name="EDJBHBHA"></A><h3 class="subHeading">Choosing a Licensing Mode</h3><div class="subSection">
          <p>Products in the Windows Server&#160;2003 family support two licensing modes:</p>
          <ul><li>
              
                <b>Per Device or Per User</b>
              <br></br>
            </li><li>
              
                <b>Per Server</b>
              <br></br>
            </li></ul>
          <p>If you choose the <b>Per Device or Per User</b> mode, each device or user that accesses a server running a product in the Windows Server&#160;2003 family requires a separate Client Access License (CAL). With one CAL, a particular device or user can connect to any number of servers running products in the Windows Server&#160;2003 family. This is the most commonly used licensing method for companies with more than one server running products in the Windows Server&#160;2003 family.</p>
          <p>In contrast, Per Server licensing means that each concurrent connection to this server requires a separate CAL. In other words, this server can support a fixed number of connections at any one time. For example, if you select the Per Server client-licensing mode with five licenses, this server could have five concurrent connections at any one time (if each client requires one connection, this is five clients at any one time). The clients using the connections do not need any additional licenses.</p>
          <p>The Per Server licensing mode is often preferred by small companies with only one server. It is also useful for Internet or remote access servers where the client computers might not be licensed as network clients for products in the Windows Server&#160;2003 family. You can specify a maximum number of concurrent server connections and reject any additional logon requests.</p>
          <p>If you are unsure which mode to use, choose <b>Per Server</b>, because you can change once from Per Server mode to Per Device or Per User mode at no cost. After you choose Per Server and complete Setup, you can display topics about licensing modes in Help and Support Center (click <b>Start</b>, and then click <b>Help and Support</b>). If you use Terminal Server, be sure to look for topics about Terminal Server Licensing.</p>
        </div>
      <a name="ChoosingaFileSystemfortheInstallationPartition"></a><A name="EFHBHBHA"></A><h3 class="subHeading">Choosing a File System for the Installation Partition</h3><div class="subSection">
          <p>You can choose among three file systems for an installation partition: NTFS, FAT, and FAT32. NTFS is strongly recommended in most situations.</p>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
            <p>You can use important features such as Active Directory and domain-based security only by choosing NTFS as your file system.</p>
          </td></tr></table>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
            <p>On GPT disks, it is strongly recommended that you use NTFS for the installation partition. However, if you have an Itanium-based computer and you see that it has a small FAT partition of 100 MB or more, do not delete or reformat this partition. The partition is required for the loading of the operating system. For more information, see "Starting Setup on an Itanium-based Computer" in "<a href="#BKMK_5">Running Setup for a New Installation</a>" later in this topic.</p>
          </td></tr></table>
          <p>The sections that follow provide information about reformatting or converting a FAT or FAT32 partition to use NTFS, as well as additional background information about NTFS, FAT, and FAT32.</p>
        
          <h4 class="subHeading">Reformatting or Converting a Partition to Use NTFS</h4><div class="subSection">
              <p>If you have a FAT or FAT32 partition on which you want to install a product in the Windows Server&#160;2003 family, and you want to use NTFS instead, you have two choices:</p>
              <ul><li>
                  You can convert the FAT or FAT32 partition to NTFS. This leaves files intact, although the partition may have somewhat more fragmentation and slower performance than a partition formatted with NTFS. However, it is still advantageous to use NTFS, regardless of whether the partition was formatted with NTFS or converted. <br></br>
                </li></ul>
              <p>If you install a product in the Windows Server&#160;2003 family on a FAT or FAT32 partition, you are offered the option to convert the partition to NTFS. You can also convert a FAT or FAT32 partition after Setup by using Convert.exe. For more information about Convert.exe, after completing Setup, click <b>Start</b>, click <b>Run</b>, type <b>cmd</b> and then press ENTER. In the command window, type <b>help convert</b>, and then press ENTER.</p>
              <ul><li>
                  You can reformat the partition with NTFS. This erases all files on the partition, but results in less fragmentation and better performance than with a converted partition.<br></br>
                </li></ul>
              <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
                <p>If you have an Itanium-based computer and you see that it has a small FAT partition of 100&#160;MB or more, do not delete or reformat this partition. The partition is required for the loading of the operating system. </p>
              </td></tr></table>
              <p>For more information, see "Starting Setup on an Itanium-based Computer" in "<a href="#BKMK_5">Running Setup for a New Installation</a>" later in this topic.</p>
              <p>If you format a partition during Setup, the file systems choices are listed as NTFS and FAT. The following table provides information about the relationship between partition size and file system choices during Setup.</p>
              <p><b></b></p><table><tr>
                    <th>
                      State and size of partition
                    </th>
                    <th>
                      Setup choices and responses (when formatting the partition) 
                    </th>
                  </tr><tr>
                  <td>
                    <p>Unformatted, less than 2&#160;GB.</p>
                  </td>
                  <td>
                    <p>Setup offers NTFS or FAT. Setup uses the format chosen.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Unformatted, 2&#160;GB or larger, up to a maximum of 32 GB.</p>
                  </td>
                  <td>
                    <p>Setup offers NTFS or FAT. If FAT is chosen, Setup uses FAT32.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Unformatted, larger than 32 GB.</p>
                  </td>
                  <td>
                    <p>Setup allows only NTFS. </p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Previously formatted with FAT32 and larger than 32&#160;GB. (Partition created with Windows&#160;95, Windows&#160;98, or Windows Millennium Edition.)</p>
                  </td>
                  <td>
                    <p>No formatting needed, even though an unformatted partition of this size, when formatted during or after Setup for a product in the Windows Server&#160;2003 family, would have to use NTFS. In other words, the Windows Server&#160;2003 family continues to support previously-formatted FAT32 partitions of this size.</p>
                  </td>
                </tr></table>
              <p>If you format a partition during Setup, you can choose between a quick format and a full format:</p>
              <p>
                <b>Quick format:</b> Quick format creates the file system structure on the disk without verifying the integrity of every sector. Choose this method for any disk that has no bad sectors and no history of file-corruption problems that might be related to bad sectors.</p>
              <p>
                <b>Full format:</b> A full format identifies and tracks bad sectors so that they are not used for storing data. Choose this method for any disk that has bad sectors or has a history of file-corruption problems that might be related to bad sectors.</p>
            </div>
          <h4 class="subHeading">NTFS Compared to FAT and FAT32</h4><div class="subSection">
              <p>NTFS has always been a more powerful file system than FAT and FAT32. Windows&#160;2000, Windows&#160;XP, and the Windows Server&#160;2003 family include a new version of NTFS, with support for a variety of features including Active Directory, which is needed for domains, user accounts, and other important security features. For more details about features in NTFS, see "NTFS" later in this topic.</p>
              <p>FAT and FAT32 are similar to each other, except that FAT32 is designed for larger disks than FAT. The file system that works most easily with large disks is NTFS.</p>
              <p>The following table compares disk and file sizes possible with each file system.</p>
              <p><b></b></p><table><tr>
                    <th>
                      NTFS
                    </th>
                    <th>
                      FAT
                    </th>
                    <th>
                      FAT32
                    </th>
                  </tr><tr>
                  <td>
                    <p>Recommended minimum volume size is approximately 10 MB. Maximum volume and partition sizes start at 2&#160;terabytes&#160;(TB) and range upward. For example, a dynamic disk formatted with a standard allocation unit size (4&#160;KB) can have partitions of 16 TB minus 4 KB. For more information about maximum volume and partition sizes, see the <i>Windows Server&#160;2003 Technical Reference, Server Management Guide</i>. Cannot be used on floppy disks.</p>
                  </td>
                  <td>
                    <p>Volumes from floppy disk size up to 4&#160;GB. Does not support domains.</p>
                  </td>
                  <td>
                    <p>Volumes from 33&#160;MB to 2&#160;TB can be written to or read using products in the Windows Server&#160;2003 family. Volumes up to 32&#160;GB can be formatted as FAT32 using products in the Windows Server&#160;2003 family. Does not support domains.</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Maximum file size is potentially 16&#160;TB minus 64&#160;KB, although files cannot be larger than the volume or partition they are located on.</p>
                  </td>
                  <td>
                    <p>Maximum file size is 2&#160;GB. </p>
                  </td>
                  <td>
                    <p>Maximum file size is 4&#160;GB.</p>
                  </td>
                </tr></table>
              <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Notes </td></tr><tr><td class="alertCell"><ul>
                <li>On Itanium-based computers with multiple disks, your choices include not only file systems but also partition styles. A partition style determines the way that information about the partition is stored. There are two partition styles. The newer style (used on Itanium-based computers only) stores partition information in the globally unique identifier (GUID) partition table (GPT). The older style stores information in the master boot record (MBR). On Itanium-based computers, you must install Windows Server&#160;2003, Enterprise Edition, on a GPT disk.</li>
                <li>For more information about the two partition styles available on Itanium-based computers, see "Planning Disk Partitions or Volumes for New Installations" later in this topic, as well as Help and Support Center, and the Windows Server&#160;2003 Technical Reference, Server Management Guide.</li>
              </ul></td></tr></table>
            </div>
          <h4 class="subHeading">NTFS</h4><div class="subSection">
              <p>This section provides background information about the features available with NTFS. Some of these features include:</p>
              <ul><li>
                  Better scalability to large drives. The maximum partition or volume size for NTFS is much greater than that for FAT, and as volume or partition sizes increase, performance with NTFS does not degrade as it does with FAT. <br></br>
                </li><li>
                  Active Directory (and domains, which are part of Active Directory). With Active Directory, you can view and control network resources easily. With domains, you can fine-tune security options while keeping administration simple. Domain controllers and Active Directory require NTFS. <br></br>
                </li><li>
                  Compression features, including the ability to compress or uncompress a drive, a folder, or a specific file. (However, a file cannot be both compressed and encrypted at the same time.) <br></br>
                </li><li>
                  File encryption, which greatly enhances security. (However, a file cannot be both compressed and encrypted at the same time.) <br></br>
                </li><li>
                  Permissions that can be set on individual files rather than just folders. <br></br>
                </li><li>
                  Remote Storage, which provides an extension to your disk space by making removable media such as tapes more accessible. (This feature is not included with Windows Server&#160;2003, Web Edition, or with Windows Server&#160;2003, Standard Edition.) <br></br>
                </li><li>
                  Recovery logging of disk activities, which allows NTFS to restore information quickly in the event of power failure or other system problems. <br></br>
                </li><li>
                  Sparse files. These are very large files created by applications in such a way that only limited disk space is needed. That is, NTFS allocates disk space only to the portions of a file that are written to. <br></br>
                </li><li>
                  Disk quotas, which you can use to monitor and control the amount of disk space used by individual users.<br></br>
                </li></ul>
              <p>For information about converting or reformatting a FAT or FAT32 partition, see "Reformatting or Converting a Partition to Use NTFS" earlier in this topic.</p>
            </div>
        </div>
      <a name="PlanningDiskPartitionsorVolumesforNewInstallations"></a><A name="EFFBHBHA"></A><h3 class="subHeading">Planning Disk Partitions or Volumes for New Installations</h3><div class="subSection">
          <p>You must plan your disk partitions before you run Setup only if both of the following conditions are true:</p>
          <ul><li>
              You are performing a new installation, not an upgrade. <br></br>
            </li><li>
              The disk on which you are installing is a basic disk, not a dynamic disk. Basic disks are the disk type that existed before Windows&#160;2000; most disks are basic disks. Dynamic disks are disks that once were basic but were changed to dynamic using Windows&#160;2000, Windows&#160;XP, or a product in the Windows Server&#160;2003 family. If you plan to install to a dynamic disk, you cannot change the volume or partition sizes on the disk during Setup, and therefore no planning is needed regarding partition sizes. Instead, review the guidelines in "Working with Dynamic Disks and Setup" later in this topic.<br></br>
            </li></ul>
          <p>Disk partitioning is a way of dividing your physical disk so that each section functions as a separate unit. When you create partitions on a basic disk, you divide the disk into one or more areas that can be formatted for use by a file system, such as FAT or NTFS. Different partitions often have different drive letters (for example, C: and D:). A basic disk can have up to four primary partitions, or three primary partitions and one extended partition. (An extended partition can be subdivided into logical drives, while a primary partition cannot be subdivided.)</p>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
            <p>If you plan to delete or create partitions on a hard disk, be sure to back up the disk contents beforehand, because these actions will destroy any existing data. As with any major change to disk contents, it is recommended that you back up the entire contents of the hard disk before working with partitions, even if you plan to leave one or more of your partitions alone.</p>
          </td></tr></table>
          <p>Before you run Setup to perform a new installation, determine the size of the partition on which to install. There is no set formula for figuring a partition size. The basic principle is to allow plenty of room for the operating system, applications, and other files that you plan to put on the installation partition. The files for setting up Windows Server&#160;2003, Datacenter Edition, require approximately 2&#160;GB to 4&#160;GB on an x86-based computer 4&#160;GB on an Itanium or x64-based computer, as described in "System Requirements" earlier in this topic. It is recommended that you allow considerably more disk space than the minimum amount. It is not unreasonable to allow 4&#160;GB to 10&#160;GB on the partition, or more for large installations. This allows space for a variety of items, including optional components, user accounts, Active Directory information, logs, future service packs, the paging file used by the operating system, and other items.</p>
          <p>When you perform a new installation, you can specify the partition on which to install. If you specify a partition on which another operating system exists, you will be prompted to confirm your choice.</p>
          <p>During Setup, create and size only the partition on which you want to install Windows Server&#160;2003, Datacenter Edition. After installation is complete, you can use Disk Management to manage new and existing disks and volumes. This includes creating new partitions from unpartitioned space; deleting, renaming, and reformatting existing partitions; adding and removing hard disks; and changing a basic disk to the dynamic disk storage type, or dynamic to basic.</p>
          <p>On Itanium-based computers with more than one disk, you can plan not only the sizes of partitions, but also the partition style for each disk. A partition style determines the way that information about the partition is stored. There are two partition styles. The newer style (used on Itanium-based computers only) stores partition information in the globally unique identifier (GUID) partition table (GPT). The older style stores information in the master boot record (MBR). On Itanium-based computers, you must install Windows Server&#160;2003, Datacenter Edition, on a GPT disk. With GPT, you can create more partitions and larger volumes, and take advantage of other benefits. For more information about partition styles on Itanium-based computers, see Help and Support Center.</p>
        
          <h4 class="subHeading">Disk Partition Requirements for Remote Installation Services</h4><div class="subSection">
              <p>If you plan to use Remote Installation Services on this server so that you can install operating systems onto other computers, a separate partition for use by Remote Installation Services is necessary. Plan on using NTFS on this partition: NTFS is required for the Single Instance Store feature of Remote Installation Services.</p>
              <p>If you need to create a new partition for Remote Installation Services, plan on doing it after Setup, and leave enough unpartitioned disk space so that you can create it (at least 4&#160;GB of space is recommended). As an alternative, for the system disk (not cluster disks), you can plan to make the disk a dynamic disk, which allows more flexibility in the use of the disk space than a basic disk.</p>
              <p>For more information about Remote Installation Services and about disk and partition choices, see Help and Support Center. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
            </div>
          <h4 class="subHeading">Options When Partitioning a Disk</h4><div class="subSection">
              <p>You can change the partitions on your disk during Setup only if you are performing a new installation, not an upgrade. You can modify the partitioning of the disk after Setup by using Disk Management.</p>
              <p>If you are performing a new installation, Setup examines the hard disk to determine its existing configuration, and then offers the following options:</p>
              <ul><li>
                  If the hard disk is unpartitioned, you can create and size the partition on which you will install a product in the Windows Server&#160;2003 family. <br></br>
                </li><li>
                  If the hard disk is partitioned but has enough unpartitioned disk space, you can create the partition for your Windows Server&#160;2003 family product by using the unpartitioned space. <br></br>
                </li><li>
                  If the hard disk has an existing partition that is large enough, you can install a product in the Windows Server&#160;2003 family on that partition, with or without reformatting the partition first. Reformatting a partition erases all data on the partition. If you do not reformat the partition, but you do install a Windows Server&#160;2003 family product where there is already an operating system, that operating system will be overwritten, and you must reinstall any applications you want to use with the Windows Server&#160;2003 family product. <br></br>
                </li><li>
                  If the hard disk has an existing partition, you can delete it to create more unpartitioned disk space for a partition for a Windows Server&#160;2003 family product. Deleting an existing partition also erases any data on that partition.<br></br>
                </li></ul>
            </div>
          <h4 class="subHeading">Computers that Contain Multiple Windows Server&#160;2003 Family Partitions</h4><div class="subSection">
              <p>You can set up a computer so that each time you restart it, you can choose from different installations of products in the Windows Server&#160;2003 family. If you want to set up a computer this way, note the following:</p>
              <ul><li>
                  It is not necessary to maintain multiple operating systems as a safeguard against problems with starting the computer. With products in the Windows Server&#160;2003 family, you have other options for system recovery. For example, if you have a problem with a newly installed device driver, you can use Safe Mode, in which Windows Server&#160;2003, Datacenter Edition, restarts with default settings and the minimum number of drivers. <br></br>
                </li><li>
                  Install each operating system on a different partition, and install the applications used with an operating system on the same partition with it. If an application is used with two different operating systems, install it on two partitions. <br></br>
                </li><li>
                  If the computer participates in a domain, use a different computer name for each installation. Because a unique security identifier (SID) is used for each installation on a domain, the computer name for each installation must be unique, even for multiple installations on the same computer. <br></br>
                </li><li>
                  If you use the Encrypting File System (EFS) on a computer containing multiple installations of products in the Windows Server&#160;2003 family, the encrypted files will not be readable between the different installations unless you take one of the following approaches. One approach is to ensure that all the installations are in the same domain and that the user of these installations has a roaming profile. Another approach is to export the user’s file encryption certificate and associated private key from one installation and import it into the other installations. For more information about EFS, roaming user profiles, and importing and exporting certificates, see Help and Support Center. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.<br></br>
                </li></ul>
            </div>
          <h4 class="subHeading">Working with Dynamic Disks and Setup</h4><div class="subSection">
              <p>A dynamic disk is a disk using the new storage type introduced with Windows&#160;2000. If you changed a disk to dynamic and you want to perform a new installation on the disk, review the following.</p>
              <ul><li>
                  If you used Windows&#160;2000 or Windows&#160;XP to change a disk with no partitions directly to a dynamic disk, you must revert the disk to basic before you can install an operating system on it. <br></br>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Caution </td></tr><tr><td class="alertCell">
                    <p>All data will be lost in the process of reverting the disk to basic, so back it up first.</p>
                  </td></tr></table>
                  You can use Windows&#160;2000 or Windows&#160;XP to revert the disk, or you can use the Setup program for a product in the Windows Server&#160;2003 family. To use Windows&#160;2000 or Windows&#160;XP, follow the instructions in Help for your operating system. To use Setup for a product in the Windows Server&#160;2003 family, during the partitioning phase, find the dynamic disk among the list of available partitions and then delete it (which erases all data on all volumes). You will be prompted to confirm your action. After you do this, the disk will contain only unpartitioned space, and you can use Setup to create a new (basic disk) partition on it.<br></br>
                </li><li>
                  If you plan to rerun Setup on a computer on which a product in the Windows Server&#160;2003 family was already installed, and the computer contains dynamic disks, be sure to read about the limitations for installing operating systems on disks that are changed to dynamic using a product in the Windows Server&#160;2003 family. For more information, see topics about dynamic disks and the partition table in Help and Support Center. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.<br></br>
                </li></ul>
            </div>
        </div>
      <a name="NetworksTCPIPIPAddressesandNameResolution"></a><A name="EFDBHBHA"></A><h3 class="subHeading">Networks: TCP/IP, IP Addresses, and Name Resolution</h3><div class="subSection">
          <p>TCP/IP is the network protocol that provides Internet access. It is the protocol used by most servers, although you can use additional or different network adapters and their associated protocols on your servers.</p>
          <p>To use TCP/IP, make sure that each server is provided with an IP address, either a dynamic or automatic address provided through software, or a static address that you obtain and set. Because these addresses are numbers and therefore hard to remember, you will also have to provide users with names that are easier to use. Mapping this type of name to an IP address is called name resolution, and can be accomplished by various methods, primarily the Domain Name System (DNS) and Windows Internet Name Service (WINS). The following sections provide more information.</p>
          <p>For detailed information about TCP/IP, DHCP, DNS, and WINS, see Help and Support Center as well as the Windows Server&#160;2003 Technical Reference. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
        
          <h4 class="subHeading">IP Addresses</h4><div class="subSection">
              <p>As outlined in the preceding section, using TCP/IP requires that an IP address be provided for each computer. This section describes IP addressing options. For descriptions of name resolution options, which are also needed in a TCP/IP network, see "Name Resolution for TCP/IP" later in this topic.</p>
              <p>There are two basic approaches for providing an IP address for a server you are installing:</p>
            
              <div class="subSection"><h5 class="subHeading">Dynamic Host Configuration Protocol (DHCP)</h5>
                  <p>You can provide IP addresses to the computers on your network by configuring one or more DHCP servers, which provide IP addresses dynamically to other computers. A DHCP server must itself be assigned a static IP address.</p>
                  <p>One server or several servers can provide DHCP along with one or more name resolution services, which are called Domain Name System (DNS) and Windows Internet Name Service (WINS). The name resolution services are described in the next section, "Name Resolution for TCP/IP."</p>
                  <p>If you want to run Setup before you have finalized your decisions about which server to use as your DHCP server and what static IP address to assign to that server, you can choose <b>Typical settings</b> in the <b>Networking Settings</b> dialog box during Setup and complete the network configuration later. If you do this and there is no DHCP server in the network, Setup will use a limited IP addressing option called Automatic Private IP Addressing (APIPA). During the time that a server is using APIPA, it can communicate only with other computers using APIPA on the same network segment. A server that is using APIPA cannot make connections to the Internet (for browsing or e-mail), and cannot be used with DNS or Active Directory (which depends on DNS).</p>
                  <p>If you know which server you want to use as your DHCP server, when installing that server, in the <b>Networking Settings</b> dialog box in Setup, choose <b>Custom settings</b>, and specify a static IP address and related network settings. For more information about how to do this, see "Specifying Networking Settings" in "<a href="#BKMK_5">Running Setup for a New Installation</a>" later in this topic. After Setup, use information in Help and Support Center (click <b>Start</b> and then click <b>Help and Support</b>) to install the DHCP component and complete the configuration of the DHCP server.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Static IP addressing</h5>
                  <p>For certain types of servers, you must assign a static IP address and subnet mask during or after Setup. These servers include DHCP servers, DNS servers, WINS servers, and any server providing access to users on the Internet. It is also recommended that you assign a static IP address and subnet mask for each domain controller. If a computer has more than one network adapter, you must assign a separate IP address for each adapter.</p>
                  <p>If you want to run Setup on a server before you have finalized your decision about the static IP address you want to assign to that server, you can choose <b>Typical settings</b> in the <b>Networking Settings</b> dialog box during Setup and configure that server later. In this situation, if there is a DHCP server in the network, Setup will obtain an IP address configuration from DHCP. If there is no DHCP server in the network, Setup will use Automatic Private IP Addressing (APIPA). APIPA is described in the previous item in this list, "Dynamic Host Configuration Protocol (DHCP)."</p>
                  <p>For more information about static IP addresses, including private IP addresses (which you choose from certain ranges of addresses) and public IP addresses (which you obtain from an Internet service provider), see Help and Support Center. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
                  <p>After you have formed a plan for IP addressing, the next components to consider are those for name resolution, which is the process of mapping a computer name (something that users can recognize and remember) to the appropriate IP address. The following sections describe options for name resolution.</p>
                </div>
            </div>
          <h4 class="subHeading">Name Resolution for TCP/IP</h4><div class="subSection">
              <p>Name resolution is a process that provides users with easy-to-remember server names, instead of requiring them to use the numerical IP addresses by which servers identify themselves on the TCP/IP network. The name-resolution services are Domain Name System (DNS) and Windows Internet Name Service (WINS).</p>
            
              <div class="subSection"><h5 class="subHeading">DNS</h5>
                  <p>DNS is a hierarchical naming system used for locating computers on the Internet and private TCP/IP networks. One or more DNS servers are needed in most installations. DNS is required for Internet e-mail, Web browsing, and Active Directory. DNS is often used as a name resolution service in domains with clients running Windows&#160;2000, Windows&#160;XP, or products in the Windows Server&#160;2003 family.</p>
                  <p>DNS is installed automatically when you create a domain controller (or when you install Active Directory on an existing member server, which makes it a domain controller), unless the software for Windows Server&#160;2003, Datacenter Edition, detects that a DNS server already exists for that domain. You can also install DNS by choosing the DNS server role in Manage Your Server or by using Add/Remove Windows Components, which is part of Add or Remove Programs in Control Panel.</p>
                  <p>If you plan to install DNS on a server, specify a static IP address on that server and configure that server to use that IP address for its own name resolution. For information about assigning a static IP address, see "Static IP Addressing" earlier in this topic. For more information about configuring DNS, see Help and Support Center (after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>).</p>
                </div>
              <div class="subSection"><h5 class="subHeading">WINS</h5>
                  <p>If you provide support for clients running Windows&#160;NT&#174; or any earlier Microsoft operating system, you might need to install Windows Internet Name Service (WINS) on one or more servers in the domain. You might also need to install WINS if it is required by your applications. You can install WINS after Setup by choosing the WINS server role in Manage Your Server or by using Add/Remove Windows Components, which is part of Add or Remove Programs in Control Panel.</p>
                  <p>If you plan to install WINS on a server, specify a static IP address on that server. For information about assigning a static IP address, see "Static IP Addressing" earlier in this topic. For more information about configuring WINS, see Help and Support Center (after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>).</p>
                </div>
            </div>
        </div>
      <a name="DecidingBetweenWorkgroupsandDomains"></a><A name="EFBBHBHA"></A><h3 class="subHeading">Deciding Between Workgroups and Domains</h3><div class="subSection">
          <p>A <i>domain</i> is a group of accounts and network resources that share a common directory database and set of security policies, and might have security relationships with other domains. A <i>workgroup</i> is a more basic grouping, intended only to help users find objects such as printers and shared folders within that group. Domains are the recommended choice for all networks except very small ones with few users.</p>
          <p>In a workgroup, users might have to remember multiple passwords, one for each network resource. (In addition, different users can use different passwords for each resource.) In a domain, passwords and permissions are simpler to keep track of, because a domain has a single, centralized database of user accounts, permissions, and other network details. The information in this database is replicated automatically among domain controllers. You determine which servers are domain controllers and which are simply members of the domain. You can determine these roles not only during Setup but afterward.</p>
          <p>Domains, and the Active Directory directory system of which they are a part, provide many options for making resources easily available to users while maintaining good monitoring and security. For more information about Active Directory, see Help and Support Center (after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>).</p>
        
          <h4 class="subHeading">Planning for Domain Controllers and Member Servers</h4><div class="subSection">
              <p>With Windows Server&#160;2003, Standard Edition; Windows Server&#160;2003, Enterprise Edition; or Windows Server&#160;2003, Datacenter Edition, servers in a domain can have one of two roles: <i>domain controllers</i>, which contain matching copies of the user accounts and other Active Directory data in a given domain, and <i>member servers</i>, which belong to a domain but do not contain a copy of the Active Directory data. (A server that belongs to a workgroup, not a domain, is called a <i>stand-alone server</i>.) It is possible to change the role of a server back and forth from domain controller to member server (or stand-alone server), even after Setup is complete. However, it is recommended that you plan your domain before running Setup and change server roles (and server names) only when necessary.</p>
              <p>Multiple domain controllers provide better support for users, compared to a single domain controller. With multiple domain controllers, you have multiple copies of user account data and other Active Directory data; however, it is still important to perform regular backups, including Automated System Recovery backups, and familiarize yourself with the methods for restoring a domain controller. In addition, multiple domain controllers work together to support domain controller functions, such as carrying out logon validations. For more information about domain controllers and other Active Directory topics, see Help and Support Center (after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>).</p>
            
              <div class="subSection"><h5 class="subHeading">Special Aspects of Windows Server&#160;2003 Family Domain Controllers</h5>
                  <p>As you manage your Windows Server&#160;2003 family domains, you might want to learn more about operations master roles. This section describes operations master roles briefly. You can find more information in Help and Support Center. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
                  <p>Operations master roles are special roles that are assigned to one or more domain controllers in an Active Directory domain. The domain controllers that are assigned these roles perform operations that are single-master (not permitted to occur at different places in a network at the same time). For example, a single domain controller must oversee the creation of security identifiers for new resources (such as new computers) to ensure that the identifiers are unique.</p>
                  <p>The first domain controller installed in a domain is automatically assigned all the operations master roles. You can change the assignment of operations master roles after Setup, but in most cases this is not necessary. You will need to be particularly aware of operations masters roles if problems develop on an operations master or if you plan to take one out of service. For more information about operations master roles, which are part of Active Directory, see Help and Support Center.</p>
                </div>
            </div>
          <h4 class="subHeading">Additional Information About Domains</h4><div class="subSection">
              <p>For detailed information about domains and forests, operations master roles, the global catalog, and other Active Directory topics, see Help and Support Center, which is available after you install (or upgrade to) a product in the Windows Server&#160;2003 family on your first server. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
              <p>For information about setting up multiple domains with structured relationships, see the Windows Deployment and Resource Kits on the Web at:</p>
              <p>
                <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a>
              </p>
            </div>
        </div>
    </div><p class="TopOfPage"><A href="#pagetop" class="TopOfPageLink">Top of page</A></p><a name="BKMK_5"></a><h1 class="heading"><A name="EFFBHA"></A>Running Setup for a New Installation</h1><div id="sectionSection4" class="section">
      <ul><li>
          
            <a href="#PreparingYourSystemforaNewInstallation">Preparing Your System for a New Installation</a>
          <br></br>
        </li><li>
          
            <a href="#StartingSetuponanx86-basedComputer">Starting Setup on an x86-based Computer</a>
          <br></br>
        </li><li>
          
            <a href="#StartingSetuponanItanium-basedComputer">Starting Setup on an Itanium-based Computer</a>
          <br></br>
        </li><li>
          
            <a href="#StartingSetuponanx64-basedComputer">Starting Setup on an x64-based Computer</a>
          <br></br>
        </li><li>
          
            <a href="#PlanningforUnattendedSetup">Planning for Unattended Setup</a>
          <br></br>
        </li><li>
          
            <a href="#EnteringServerSettingsforaNewInstallation">Entering Server Settings for a New Installation</a>
          <br></br>
        </li><li>
          
            <a href="#ProductActivationforProductsintheWindowsServer2003Family">Product Activation for Products in the Windows&#160;Server&#8482;&#160;2003 Family</a>
          <br></br>
        </li></ul>
      <p>This topic provides recommendations for preparing your system for a new installation, and it explains how to run Setup for Microsoft&#174; Windows&#160;Server&#8482;&#160;2003, Datacenter Edition. Before reading this topic or running Setup, be sure to read "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic. If you have a server cluster, be sure also to read "<a href="#BKMK_6">Installing on Cluster Nodes</a>" later in this topic.</p>
      <p>For technical information and resources to help you evaluate, deploy, and administer the Windows server operating systems, see the Windows Server TechCenter on the Web at: <a href="http://go.microsoft.com/fwlink/?LinkId=28944" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=28944</a>. For more information about the deployment of servers, see the Windows Deployment and Resource Kits Web site at: <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a></p>
    
      <a name="PreparingYourSystemforaNewInstallation"></a><A name="EFPBFBHA"></A><h3 class="subHeading">Preparing Your System for a New Installation</h3><div class="subSection">
          <p>This section describes the basic steps to take in preparing your server for a new installation.</p>
          <p>If you are installing Windows Server&#160;2003, Datacenter Edition, on server cluster nodes, be sure to read "<a href="#BKMK_6">Installing on Cluster Nodes</a>" later in this topic.</p>
        
          <h4 class="subHeading">Checking the System Log for Errors</h4><div class="subSection">
              <p>If the computer already has a working operating system, review the system log for recent or recurring errors (especially hardware errors) that could cause problems during the installation. For information about viewing event logs, see Help for the operating system on your computer.</p>
            </div>
          <h4 class="subHeading">Backing Up Files</h4><div class="subSection">
              <p>Before you perform a new installation, it is recommended that you back up your current files, unless the computer has no files or the current operating system files have been damaged. You can back up files to a variety of different media, such as a tape drive or the hard disk of another computer on the network.</p>
            </div>
          <h4 class="subHeading">Disconnecting UPS Devices</h4><div class="subSection">
              <p>If you have an uninterruptible power supply (UPS) connected to your target computer, disconnect the connecting serial cable before running Setup. Setup automatically attempts to detect devices connected to serial ports, and UPS equipment can cause problems with the detection process.</p>
            </div>
        </div>
      <a name="StartingSetuponanx86-basedComputer"></a><A name="EFNBFBHA"></A><h3 class="subHeading">Starting Setup on an x86-based Computer</h3><div class="subSection">
          <p>This section explains how to start Setup for a new installation on an x86-based computer. For an explanation of how to start Setup on an Itanium-based computer, see "Starting Setup on an Itanium-based Computer" later in this topic. For an explanation of how to start Setup on an x64-based computer, see "Starting Setup on an x64-based Computer" also later in this topic.</p>
          <p>Setup works in several stages, prompting you for information, copying files, and restarting.</p>
          <p>For important information to help you make the initial choices offered by Setup, see "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic. For information about unattended Setup and other options available when you start Setup, see "Planning for Unattended Setup" later in this topic.</p>
        
          <h4 class="subHeading">Providing a Mass Storage Driver or a HAL File</h4><div class="subSection">
              <p>If you have a mass storage controller that requires a driver supplied by the manufacturer, or if you have a custom Hardware Abstraction Layer (HAL) file supplied by the manufacturer, provide the appropriate driver file or HAL file during Setup.</p>
            
              <div class="subSection"><h5 class="subHeading">Mass Storage Drivers and the Setup Process</h5>
                  <p>If you have a mass storage controller (such as a SCSI, RAID, or Fibre Channel adapter) for your hard disk, confirm that the controller is designed for products in the Windows Server&#160;2003 family by checking the hardware and software compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37823" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37823</a></p>
                  <p>If your controller is compatible, but you are aware that the manufacturer has supplied a separate driver file for use with products in the Windows Server&#160;2003 family, obtain the file (on a floppy disk) before you begin Setup. During the early part of Setup, a line at the bottom of the screen prompts you to press F6. Further prompts will guide you in supplying the driver file to Setup so that it can gain access to the mass storage controller.</p>
                  <p>If you are not sure whether you must obtain a separate driver file from the manufacturer of your mass storage controller, you can try running Setup. If the controller is not supported by the driver files on the Setup CD and therefore requires a driver file that is supplied by the hardware manufacturer, Setup stops and displays a message saying that no disk devices can be found, or it displays an incomplete list of controllers. After you obtain the necessary driver file, restart Setup, and press F6 when you are prompted.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Using a Custom HAL File</h5>
                  <p>If you have a custom Hardware Abstraction Layer (HAL) file supplied by your computer manufacturer, before you begin Setup, locate the floppy disk or other medium containing the file. During the early part of Setup, a line at the bottom of the screen prompts you to press F6: at this time press F5 (not F6). After you press F5, follow the prompts to include your HAL file in the Setup process.</p>
                </div>
            </div>
          <h4 class="subHeading">Starting Setup on an x86-based Computer</h4><div class="subSection">
              <p>The sections that follow, "Starting a New Installation from a CD" and "Starting a New Installation from a Network," explain how to start Setup for a new installation. For information about planning for and starting Setup for an upgrade, see "Getting Ready for an Upgrade " and "<a href="#BKMK_2">Running Setup for an Upgrade</a>" earlier in this topic.</p>
              <p>For information about unattended Setup and other options available when you start Setup, see "Planning for Unattended Setup" later in this topic.</p>
            
              <div class="subSection"><h5 class="subHeading">Starting a New Installation from a CD</h5>
                  <p>If you use the Setup CD, you have several options for starting Setup, as explained in the following procedures:</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                    <p>If you are running Setup on a computer running Windows&#160;3.<i>x</i> or MS-DOS, for best efficiency, use disk caching. Otherwise, the Setup process (started from Winnt.exe) could take a long time. To enable disk caching on a computer running Windows&#160;3.<i>x</i> or MS-DOS, you can use SMARTDrive. For information about SMARTDrive, see the documentation for Windows&#160;3.<i>x</i> or MS-DOS.</p>
                  </td></tr></table>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To start Setup from the CD on a computer running MS-DOS</b></td></tr></table><ol><li>
                        
                          <p>Insert the CD in the drive</p>
                        
                      </li><li>
                        
                          <p>At the command prompt, type:</p>
                          <p>
                            <i>d</i>:</p>
                          <p>where <i>d</i> is the drive letter of the CD-ROM drive</p>
                        
                      </li><li>
                        
                          <p>Type:</p>
                          <p>
                            <b>cd i386</b>
                          </p>
                        
                      </li><li>
                        
                          <p>Type:</p>
                          <p>
                            <b>winnt</b>
                          </p>
                        
                      </li><li>
                        
                          <p>Follow the Setup instructions.</p>
                        
                      </li></ol>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To start Setup from the CD on a computer running Windows</b></td></tr></table><ol><li>
                        
                          <p>Before starting this procedure on a computer running Windows&#160;NT 4.0, apply Service Pack&#160;5 or later.</p>
                        
                      </li><li>
                        
                          <p>Insert the CD in the drive.</p>
                        
                      </li><li>
                        
                          <p>To begin Setup, do one of the following:</p>
                          <ul><li>
                              For a computer running any version of Windows other than Windows 3.x, wait for Setup to display a dialog box.<br></br>
                            </li><li>
                              For a computer running Windows 3.x, use File Manager to change to the CD-ROM drive and to change to the I386 directory, and then double-click <b>Winnt.exe</b>.<br></br>
                            </li></ul>
                        
                      </li><li>
                        
                          <p>Follow the Setup instructions.</p>
                        
                      </li></ol>
                  <p>Another way of using the Setup CD is to start the computer from the CD-ROM drive. This method applies only if you want to perform a new installation, not an upgrade. Using this method, you can perform an installation on a computer that does not have an operating system, although you can also use this method on computers that have operating systems.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To start Setup for a new installation from the CD on an x86-based computer</b></td></tr></table><ol><li>
                        
                          <p>Determine whether the computer on which you want to start Setup can be started from the CD-ROM drive and whether you want to perform a new installation (not an upgrade). Continue only if both are true.</p>
                        
                      </li><li>
                        
                          <p>Insert the CD in the drive, and then restart the computer.</p>
                        
                      </li><li>
                        
                          <p>Follow the instructions for your operating system to boot the computer from the CD.</p>
                        
                      </li><li>
                        
                          <p>Wait for Setup to display a dialog box, and then follow the Setup instructions.</p>
                        
                      </li></ol>
                </div>
              <div class="subSection"><h5 class="subHeading">Starting a New Installation from a Network</h5>
                  <p>To install Windows Server&#160;2003, Datacenter Edition, from a network, you either share the files directly from the CD or copy them to a shared folder. Then, you start the appropriate program to run Setup.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To install Windows Server&#160;2003, Datacenter Edition, from a network (x86-based computers only)</b></td></tr></table><ol><li>
                        
                          <p>On a network server, share the installation files, either by inserting the CD and sharing the CD-ROM drive or by copying the files from the I386 folder on the CD to a shared folder. </p>
                        
                      </li><li>
                        
                          <p>On the computer on which you want to install Windows Server&#160;2003, Datacenter&#160;Edition, connect to the shared Setup files: </p>
                          <ul><li>
                              If you are sharing the CD-ROM drive, connect to the shared drive and change to the I386 folder. <br></br>
                            </li><li>
                              If you are sharing a folder, connect to that folder.<br></br>
                            </li></ul>
                        
                      </li><li>
                        
                          <p>Find and run the appropriate file in the I386 directory of the CD or in the shared folder: </p>
                          <ul><li>
                              From a computer running MS-DOS or Windows&#160;3.x, run Winnt.exe. <br></br>
                            </li><li>
                              From a computer running Windows&#160;95, Windows&#160;98, Windows&#160;Millennium&#160;Edition, Windows&#160;NT with Service Pack&#160;5 or later, Windows&#160;2000, or Windows&#160;XP, run Winnt32.exe.<br></br>
                            </li></ul>
                        
                      </li><li>
                        
                          <p>Follow the Setup instructions.</p>
                        
                      </li></ol>
                </div>
            </div>
        </div>
      <a name="StartingSetuponanItanium-basedComputer"></a><A name="EDLBFBHA"></A><h3 class="subHeading">Starting Setup on an Itanium-based Computer</h3><div class="subSection">
          <p>This section explains how to start Setup for a new installation on an Intel Itanium-based computer. For an explanation of how to start Setup on an x86-based computer, see "Starting Setup on an x86-based Computer" earlier in this topic. For an explanation of how to start Setup on an x64-based computer, see the next section.</p>
          <p>In computers with the Itanium processor or the Itanium 2 processor, the Extensible Firmware Interface (EFI) is the interface between a computer’s firmware, hardware, and operating system. The EFI defines a new disk partition style called GUID partition table (GPT). The installation partition on an Itanium-based computer must be on a GPT disk. Setup automatically specifies GPT for the disk used for installation. You can still read and write to master boot record (MBR) volumes, which are common to most PCs, but you cannot install on one.</p>
          <p>You cannot access GPT disks locally from an x86-based computer. If you want to move a disk from an Itanium-based computer to an x86-based computer, use an MBR disk. This is true regardless of whether the disk is basic or dynamic.</p>
          <p>Before installing, verify that you are using the correct version of the firmware. For more information, refer to the hardware manufacturer’s documentation.</p>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell"><ul>
            <li>Itanium-based computers require a minimum 100-MB FAT partition for the operation of the EFI. This EFI system partition is created automatically during Setup, and it stores programs and information files that the EFI uses to start the operating system. Do not delete or reformat this partition. </li>
            <li>Setup also creates a Microsoft Reserved Partition (MSR), which is required by the operating system. The size of this partition depends on the size of the hard disk. On drives less than 16 GB in size, the MSR is 32 MB. On drives greater than or equal to 16 GB, the MSR is 128 MB. Do not delete or reformat this partition.</li>
          </ul></td></tr></table>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To start Setup on an Itanium-based computer</b></td></tr></table><ol><li>
                
                  <p>Immediately after turning on the computer, insert the Setup CD in the CD-ROM drive.</p>
                
              </li><li>
                
                  <p>When the EFI Boot Manager menu appears, select the CD-ROM option.</p>
                
              </li><li>
                
                  <p>When prompted, press any key to start from the CD-ROM.</p>
                
              </li><li>
                
                  <p>Follow the on-screen Setup instructions.</p>
                
              </li></ol>
        </div>
      <a name="StartingSetuponanx64-basedComputer"></a><A name="EDJBFBHA"></A><h3 class="subHeading">Starting Setup on an x64-based Computer</h3><div class="subSection">
          <p>This section explains how to start Setup for a new installation on an x64-based computer. For an explanation of how to start Setup on an x86-based computer, see "Starting Setup on an x86-based Computer" earlier in this topic. For an explanation of how to start Setup on an Itanium-based computer, see "Starting Setup on an Itanium-based Computer" earlier in this topic.</p>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To start Setup from the CD on an x64-based computer</b></td></tr></table><ol><li>
                
                  <p>Determine whether the computer on which you want to start Setup can be started from the CD-ROM drive.</p>
                
              </li><li>
                
                  <p>Insert the CD in the drive, and then restart the computer.</p>
                
              </li><li>
                
                  <p>Follow the instructions for your operating system to boot the computer from the CD.</p>
                
              </li><li>
                
                  <p>Wait for Setup to display a dialog box, and then follow the Setup instructions.</p>
                
              </li></ol>
        </div>
      <a name="PlanningforUnattendedSetup"></a><A name="EDHBFBHA"></A><h3 class="subHeading">Planning for Unattended Setup</h3><div class="subSection">
          <p>This section provides general information about unattended Setup. For detailed instructions on running unattended Setup (also called automated installation), see the Windows Deployment and Resource Kits Web site at: <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a>. To simplify the process of setting up a product in the Windows Server&#160;2003 family on multiple computers, you can run Setup unattended. To do this, you create and use an answer file, a customized script that answers the Setup questions automatically. Then, you run Winnt32.exe or Winnt.exe with the appropriate options for unattended Setup. Choose the command according to the operating system that is running when you start unattended Setup:</p>
          <ul><li>
              To start unattended Setup on a computer running MS-DOS or Windows&#160;3.x, use Winnt.exe (with the appropriate options). <br></br>
            </li><li>
              To start unattended Setup on a computer running Windows&#160;95, Windows&#160;98, Windows&#160;Millennium Edition, Windows&#160;NT, Windows&#160;2000, Windows&#160;XP, or a product in the Windows Server&#160;2003 family, use Winnt32.exe (with the appropriate options). With Windows&#160;NT 4.0, before starting unattended Setup, apply Service Pack&#160;5 or later.<br></br>
            </li></ul>
          <p>To learn about unattended Setup, see the following sources:</p>
          <ul><li>
              
                <b>For detailed instructions on running unattended Setup (also called automated installation):</b> See Automating and Customizing Installations at the Windows Deployment and Resource Kits Web site (described in the first paragraph of this section). <br></br>
            </li><li>
              
                <b>To view the command options available for Winnt.exe:</b> On a computer running Windows&#160;3.x or MS-DOS, insert the Setup CD for Windows Server&#160;2003, Datacenter&#160;Edition, in the CD-ROM drive and open the command prompt. Then, change to the CD-ROM drive, change to the I386 directory, and type:<br></br>
              
                <b>winnt /?</b>
              <br></br>
            </li><li>
              
                <b>To use an x86-based or x64-based computer to view the command options available for Winnt32.exe:</b> On a computer running Windows&#160;95, Windows&#160;98, Windows&#160;Millennium Edition, Windows&#160;NT, Windows&#160;2000, Windows&#160;XP, or a product in the Windows Server&#160;2003 family, insert the Setup CD for Windows Server&#160;2003, Standard&#160;Edition, in the CD-ROM drive, and open the command prompt (click Start, click Run, and then type cmd). Then, change to the CD-ROM drive, change to the I386 directory, and type: <br></br>
              
                <b>winnt32 /?</b>
              <br></br>
            </li><li>
              
                <b>To use an Itanium-based computer to view the command options available for Winnt32.exe:</b> On an Itanium-based computer running Windows&#160;XP 64-Bit Edition; the Itanium-based version of Windows Server&#160;2003, Enterprise Edition; or the Itanium-based version of Windows Server&#160;2003, Datacenter Edition, insert the Setup CD for the product in the CD-ROM drive and open the command prompt (click Start, click Run, and then type cmd). Then, change to the CD-ROM drive, change to the IA64 directory, and type:<br></br>
              
                <b>winnt32 /?</b>
              <br></br>
            </li></ul>
        </div>
      <a name="EnteringServerSettingsforaNewInstallation"></a><A name="EFFBFBHA"></A><h3 class="subHeading">Entering Server Settings for a New Installation</h3><div class="subSection">
          <p>If you are upgrading, you can skip this section because Setup will use your previous settings.</p>
          <p>After you start Setup, a process begins in which necessary Setup files are copied to the hard disk. During this process, Setup displays dialog boxes that you can use to select various options.</p>
          <p>The following sections outline the items that you specify as you run Setup. Before working with these sections, see "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic for important background information about issues such as partitions, file system choices, and the handling of TCP/IP name resolution.</p>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Notes </td></tr><tr><td class="alertCell"><ul>
            <li>If you have a mass storage controller (such as a SCSI, RAID, or Fibre Channel adapter) for your hard disk, see "Providing a Mass Storage Driver or a HAL File" earlier in this topic for information about how to ensure that the controller driver file is available to the Setup program.</li>
            <li>If you have specialized hardware that requires a custom Hardware Abstraction Layer (HAL) file supplied by your computer manufacturer, see "Using a Custom HAL File" earlier in this topic for information about how to make the HAL file available during Setup.</li>
          </ul></td></tr></table>
        
          <div class="subSection">
            
              <div class="subSection"><h5 class="subHeading">Choosing or Creating a Partition for Windows Server&#160;2003, Datacenter Edition</h5>
                  <p>During a new installation of Windows Server&#160;2003, Datacenter Edition, a dialog box gives you the opportunity to create or specify a partition on which you want to install. You can create a partition from the available unpartitioned space, specify an existing partition, or delete an existing partition to create more unpartitioned disk space for the new installation. If you specify any action that will cause information to be erased, you will be prompted to confirm your choice.</p>
                  <p>For more information, see the section on planning partitions for new installations "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell"><ul>
                    <li>If you delete an existing partition, all data on that partition is erased.</li>
                    <li>Performing a new installation of Windows Server&#160;2003, Datacenter Edition, on a partition that contains another operating system overwrites the existing operating system.</li>
                  </ul></td></tr></table>
                </div>
              <div class="subSection"><h5 class="subHeading">Selecting Regional and Language Options</h5>
                  <p>You can set up Windows Server&#160;2003, Datacenter Edition, to use multiple languages and regional options.</p>
                  <p>If you select a European country or region in the list of countries/regions, or if you live in a country or region where the euro has been introduced, it is a good idea to verify that the default currency settings in Regional and Language Options meet your needs. After you run Setup, you can modify these options by clicking <b>Regional and Language Options</b> in Control Panel.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Personalizing Windows</h5>
                  <p>Enter your name and, as an option, your organization.</p>
                  <p>If you select a European country or region in the list of countries/regions, or if you live in a country or region where the euro has been introduced, it is a good idea to verify that the default currency settings in <b>Regional and Language Options</b> meet your needs. After you run Setup, you can modify regional and language options by clicking <b>Regional and Language Options</b> in Control Panel.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Choosing a Licensing Mode</h5>
                  <p>Select your client licensing mode. For information about licensing modes, see "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic. If you are unsure which mode to use, select <b>Per Server</b>, because you can change once from <b>Per Server</b> mode to <b>Per Device or Per User</b> mode at no cost.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Entering Your Computer Name</h5>
                  <p>During Setup, in the <b>Computer Name and Administrator Password</b> dialog box, follow the instructions for entering your computer name. The recommended length for most languages is 15 characters or less. For languages that require more storage space per character, such as Chinese, Japanese, and Korean, the recommended length is 7 characters or less.</p>
                  <p>It is recommended that you use only Internet-standard characters in the computer name. The standard characters are the numbers from 0 through 9, uppercase and lowercase letters from A through Z, and the hyphen (-) character. Computer names cannot consist entirely of numbers.</p>
                  <p>If you are using DNS on your network, you can use a wider variety of characters, including Unicode characters and other nonstandard characters, such as the ampersand (&amp;). Using nonstandard characters might affect the ability of non-Microsoft software to operate on your network. For more information about DNS, see the "Name Resolution for TCP/IP" section in "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic.</p>
                  <p>The maximum length for a computer name is 63 bytes. If the name is longer than 15 bytes (15 characters in most languages, 7 characters in some), computers running Windows&#160;NT&#160;Server&#160;4.0 and earlier will recognize this computer by the first 15 bytes of the name only. In addition, there are additional configuration steps for a name that is longer than 15 bytes. For more information, in Help and Support Center, see "Namespace planning for DNS." To view Help and Support Center, after running Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
                  <p>If a computer is part of a domain, you must choose a computer name that is different from any other computer in the domain. To avoid name conflicts, the computer should be unique on the domain, workgroup, or network. If this computer is part of a domain, and it contains more than one operating system, you must use a unique computer name for each operating system that is installed. For example, if the computer name is FileServerNT when the computer is started with Windows&#160;NT&#160;Server&#160;4.0, the computer must have a different name, perhaps FileServerNew, when it is started with a product in the Windows Server&#160;2003 family. This requirement also applies to a computer that contains multiple installations of the same operating system. For more information, in Help and Support Center, see "Planning your domain structure."</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Setting the Administrator Account Password</h5>
                  <p>During Setup, in the <b>Computer Name and Administrator Password</b> dialog box, type a password of up to 127 characters in the <b>Administrator Password</b> box. For the strongest system security, use a password of at least 7 characters, and use a mixture of uppercase and lowercase letters, numbers, and other characters, such as *, ?, or $.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
                    <p>After Setup is completed, for best security, change the name of the Administrator account (it cannot be deleted) and keep a strong password on the account at all times. For more information about security and the administrative rights and permissions held by the Administrator account and the Administrators group, see Help and Support Center. You can view Help and Support Center after Setup is complete by clicking <b>Start</b>, and then clicking <b>Help and Support</b>.</p>
                  </td></tr></table>
                </div>
              <div class="subSection"><h5 class="subHeading">Setting the Date and Time</h5>
                  <p>During Setup, in the <b>Date and Time Settings</b> dialog box, set the date, time, and time zone. If you want the system to automatically adjust for daylight saving time, select the <b>Automatically adjust clock for daylight saving changes</b> check box.</p>
                  <p>You can change your computer’s date and time after Setup is complete. If your computer is a member of a domain, your computer clock is probably synchronized automatically by a network time server. If your computer is not a member of a domain, you can synchronize your computer clock with an Internet time server.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Specifying Networking Settings</h5>
                  <p>You can specify networking information for TCP/IP or other protocols during Setup, or you can use typical settings and then make any necessary changes to your networking configuration after installation.</p>
                  <p>For basic background information about TCP/IP configuration and Setup, see "Networks: TCP/IP, IP Addresses, and Name Resolution" in "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic. For additional information about TCP/IP configuration, see Help and Support Center for the Windows Server&#160;2003 family. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>. </p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To allow Setup to assign or obtain an IP address</b></td></tr></table><ul><li>
                        
                          <p>When you click <b>Typical settings</b> in the <b>Networking Settings</b> dialog box, Setup checks to see if there is a DHCP server on your network. If there is a DHCP server on your network, DHCP provides an IP address. If there is no DHCP server on your network, Setup will use a limited IP addressing option called Automatic Private IP Addressing (APIPA). On a server using APIPA, complete the network configuration after Setup, because a server using APIPA can communicate only with other computers using APIPA on the same network segment.</p>
                        
                      </li></ul>
                  <p>For basic background information about IP address configuration, including additional information about the limitations of APIPA, see "IP Addresses" in "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To specify a static IP address and settings needed for DNS and WINS</b></td></tr></table><ol><li>
                        
                          <p>During Setup, in the <b>Networking Settings</b> dialog box, click <b>Custom settings</b>, and then click <b>Next</b>.</p>
                        
                      </li><li>
                        
                          <p>In the <b>Networking Components dialog</b> box, click <b>Internet Protocol (TCP/IP)</b>.</p>
                        
                      </li><li>
                        
                          <p>Click <b>Properties</b>.</p>
                        
                      </li><li>
                        
                          <p>In the <b>Internet Protocol (TCP/IP) Properties</b> dialog box, click <b>Use the following IP address</b>.</p>
                        
                      </li><li>
                        
                          <p>In <b>IP address</b>, <b>Subnet mask</b>, and <b>Default gateway</b>, type the appropriate addresses.</p>
                        
                      </li><li>
                        
                          <p>Under <b>Use the following DNS server addresses</b>, type the address of a preferred DNS server and, optionally, an alternate DNS server.</p>
                          <p>If the local server is the preferred or alternate DNS server, type the same IP address as assigned in the previous step.</p>
                        
                      </li><li>
                        
                          <p>If you will use a WINS server, click <b>Advanced</b>, and then click the <b>WINS </b>tab in the <b>Advanced TCP/IP Settings</b> dialog box to add the IP address of one or more WINS servers.</p>
                        
                      </li><li>
                        
                          <p>Click <b>OK</b> in each dialog box, and continue with Setup.</p>
                        
                      </li></ol>
                </div>
              <div class="subSection"><h5 class="subHeading">Specifying the Workgroup or Domain Name</h5>
                  <p>A <i>domain</i> is a group of accounts and network resources that share a common directory database and set of security policies and might have security relationships with other domains. A <i>workgroup</i> is a more basic grouping, intended only to help users find objects such as printers and shared folders within that group. Domains make it easier for an administrator to control access to resources and keep track of users. For more information, see "<a href="#BKMK_4">Getting Ready for a New Installation</a>" earlier in this topic.</p>
                  <p>For more information about name conflicts, see "Entering Your Computer Name" earlier in this topic.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Choosing Server Components</h5>
                  <p>You can use the Windows Components Wizard to select the appropriate components for your server. To use this wizard, after running Setup, click <b>Start</b>, and then click <b>Control Panel</b>. In Control Panel, double-click <b>Add or Remove Programs</b>, and then, on the left side of the dialog box, click <b>Add/Remove Windows Components</b>. With this wizard you can choose and install individual components.</p>
                </div>
            </div>
        </div>
      <a name="ProductActivationforProductsintheWindowsServer2003Family"></a><A name="EDDBFBHA"></A><h3 class="subHeading">Product Activation for Products in the Windows Server&#160;2003 Family</h3><div class="subSection">
          <p>After you install a product in the Windows Server&#160;2003 family, if the product was purchased individually rather than through a volume licensing arrangement, you will have to activate the product unless your hardware manufacturer has preactivated it for you. Product activation is quick, simple, and unobtrusive, and it protects your privacy. It is designed to reduce software piracy (illegal copies of a product). Over time, reduced piracy means that the software industry can invest more in product development, quality, and support. This results in better products and more innovation for customers.</p>
          <p>The following details help explain product activation:</p>
          <p>
            <b>Software reminders</b>&#160;&#160;&#160;Until you activate your product, it provides a reminder each time you log on and at common intervals until the end of the activation grace period stated in your End-User License Agreement (30 days is the typical grace period). If your activation grace period passes and you do not activate the product, your computer will continue to function, except that when you log on locally or log on through Remote Desktop for Administration (the new name for the Windows&#160;2000 functionality known as Terminal Services in Remote Administration Mode), you will only be able to use the Activate Windows Wizard.</p>
          <p>
            <b>How the software handles activation</b>&#160;&#160;&#160;Activation is simple and anonymous. When you activate your product, it means that your product key is now associated with the computer (the hardware) it is installed on. After that happens, your product key cannot be used for activation on other computers (unless you are enrolled in a special program that permits additional activations, for example, a program through the Microsoft Developer Network (MSDN)).</p>
          <p>Your local operating system does some of the work of creating the association between your product key and the computer it is installed on. It uses your Product ID, which is derived from your product key, and puts it together with a coded number (called a hardware hash) that uniquely represents the hardware components that make up your computer (without representing any personal information or anything about the software). When you activate, you provide this number, through the Internet or by phone, so that it can be confirmed as representing a legal installation. After you activate, if another person has an illegal copy of your software, and that person tries to use your product key to activate the software on another computer, the coded numbers will show that your product key is already associated with a particular set of hardware (your computer). The other person’s activation will not work.</p>
          <p>The Installation ID that the local operating system generates, representing the association between your product key and the computer it is install on, is used only for the purpose of activation.</p>
          <p>
            <b>Methods for activation</b>&#160;&#160;&#160;After your operating system is installed, begin activation by clicking <b>Start</b>, and then clicking <b>Activate Windows</b>. (You can also click the key icon that appears in the lower right corner of the screen.) By following the instructions on the screen, you can activate through the Internet or by phone:</p>
          <ul><li>
              
                <b>Internet:</b> When you activate through the Internet, your computer transmits coded information that shows that your product key is associated with your computer hardware. Activation is carried out through a secure server. A confirmation ID is passed back to your computer, automatically activating your product. This process normally takes just a few seconds to complete. No personally identifiable information is required to activate your product. <br></br>
            </li><li>
              
                <b>Phone:</b> When you activate by phone, information on the screen guides you through a few simple steps. When you choose the country or region where you are located, a phone number (toll-free, wherever possible) is displayed on your screen. When you call the number, a customer service representative asks for the Installation ID that is displayed on your screen. The customer service representative enters that number into a secure database, confirms that the number represents a legally installed product, and provides a confirmation ID to you. Then, you type the confirmation ID into the spaces provided on the screen, and activation is complete.<br></br>
            </li></ul>
          <p>
            <b>Reactivation (rarely needed)</b>&#160;&#160;&#160;If you overhaul your computer by replacing a substantial number of hardware components (not just a few), the operating system might view your hardware as a completely different computer, not the one on which you activated. In this situation, you can call the telephone number displayed on the telephone activation screen, and, through a quick, simple process, you can reactivate your product.</p>
        </div>
      <A name="EDBBFBHA"></A><h3 class="subHeading">Product Activation Compared to Product Registration</h3><div class="subSection">
          <p>Product activation is not the same as product registration. As discussed above, product activation is required, and it is completely anonymous. Product registration, in contrast, is completely optional, and it allows you to provide personal information, such as your e-mail address, if you choose. Registration entitles you to receive information about product updates and special offers directly from Microsoft. All registration information provided is stored securely, and no information is ever loaned or sold to other parties.</p>
        </div>
    </div><p class="TopOfPage"><A href="#pagetop" class="TopOfPageLink">Top of page</A></p><a name="BKMK_6"></a><h1 class="heading"><A name="EFDBHA"></A>Installing on Cluster Nodes</h1><div id="sectionSection5" class="section">
      <ul><li>
          
            <a href="#ImportantInformationtoReview">Important Information to Review</a>
          <br></br>
        </li><li>
          
            <a href="#PlanningandPreparingforClusterInstallation">Planning and Preparing for Cluster Installation</a>
          <br></br>
        </li><li>
          
            <a href="#BeginningtheClusterInstallationontheFirstClusterNode">Beginning the Cluster Installation on the First Cluster Node</a>
          <br></br>
        </li></ul>
      <p>With Microsoft&#174; Windows Server&#8482;&#160;2003, Enterprise Edition, and Microsoft Windows Server&#160;2003, Datacenter Edition, you can use clustering to ensure that users have constant access to important server-based resources. With clustering, you create several cluster nodes that appear to users as one server. If one of the nodes in the cluster fails, another node begins to provide service (a process known as failover). Critical applications and resources remain continuously available.</p>
      <p>For technical information and resources to help you evaluate, deploy, and administer the Windows server operating systems, see the Windows Server TechCenter on the Web at: <a href="http://go.microsoft.com/fwlink/?LinkID=28944" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=28944</a></p>
    
      <a name="ImportantInformationtoReview"></a><A name="EFFBDBHA"></A><h3 class="subHeading">Important Information to Review</h3><div class="subSection">
          <p>To prepare for installing clustering:</p>
          <ul><li>
              Review "<a href="#BKMK_4">Getting Ready for a New Installation</a>" and "<a href="#BKMK_5">Running Setup for a New Installation</a>" earlier in this topic for general information about Setup. <br></br>
            </li><li>
              As described in "<a href="#BKMK_4">Getting Ready for a New Installation</a>," confirm that your hardware, including your cluster storage, is compatible with products in the Windows Server&#160;2003 family by checking the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a><br></br>
            </li><li>
              In addition, check with the manufacturer of your cluster storage hardware to be sure you have the drivers you need to use the hardware with Windows Server&#160;2003, Datacenter Edition.<br></br>
            </li></ul>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
            <p>You must ensure that hardware in your entire cluster solution is compatible with products in the Windows Server&#160;2003 family. For more information, see "Cluster hardware and drivers" in the "Planning for Cluster Installation" section later in this topic.</p>
          </td></tr></table>
        
          <h4 class="subHeading">Other Sources of Information</h4><div class="subSection">
              <p>Following are sources of additional information about server clusters and other topics related to high availability:</p>
              <ul><li>
                  For more information about server clusters, see Help and Support Center. To do this, go to a computer running Windows Server&#160;2003, Enterprise Edition, or Windows Server&#160;2003, Datacenter Edition, click <b>Start</b>, and then click <b>Help and Support</b>. <br></br>
                </li></ul>
              <p>Look for the following sets of topics:</p>
              <p><b></b></p><table><tr>
                    <th>
                      Topic area
                    </th>
                    <th>
                      Navigation to use in the Table of Contents
                    </th>
                  </tr><tr>
                  <td>
                    <p>Installing and Upgrading on Cluster Nodes</p>
                  </td>
                  <td>
                    <p>Getting Started&gt;Installing and Upgrading on Cluster Nodes</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Troubleshooting cluster installation and upgrade problems</p>
                  </td>
                  <td>
                    <p>Getting Started&gt;Installing and Upgrading on Cluster Nodes&gt;Troubleshooting</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Troubleshooting other cluster problems</p>
                  </td>
                  <td>
                    <p>Availability and Scalability&gt;Windows Clustering&gt;Server Clusters&gt;Troubleshooting</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Best practices for installing and upgrading server clusters</p>
                  </td>
                  <td>
                    <p>Getting Started&gt;Installing and Upgrading on Cluster Nodes&gt;Best practices</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Other best practices for server clusters</p>
                  </td>
                  <td>
                    <p>Availability and Scalability&gt;Windows Clustering&gt;Server Clusters&gt;Best practices</p>
                  </td>
                </tr><tr>
                  <td>
                    <p>Information about other technologies that enhance availability</p>
                  </td>
                  <td>
                    <p>Availability and Scalability</p>
                  </td>
                </tr></table>
              <ul><li>
                  For more information about the following topics, see the Windows Deployment and Resource Kits. <br></br>
                  <ul><li>
                      Backing up and restoring data and configuration information <br></br>
                    </li><li>
                      Deployment planning for server clusters and Network Load Balancing clusters <br></br>
                    </li><li>
                      Planning for high availability<br></br>
                    </li></ul>
                </li></ul>
              <p>You can view the Windows Deployment and Resource Kits on the Web at: <a href="http://go.microsoft.com/fwlink/?linkid=29883" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=29883</a></p>
              <ul><li>
                  For information about backup and recovery planning, change management, configuration management, and other concepts related to operational best practices, see resources in the Information Technology Infrastructure Library (ITIL). To see a description of ITIL, go to: <a href="http://go.microsoft.com/fwlink/?LinkId=37827" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37827</a><br></br>
                </li></ul>
              <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                <p>Web addresses can change, so you might be unable to connect to the Web site mentioned here.</p>
              </td></tr></table>
            </div>
        </div>
      <a name="PlanningandPreparingforClusterInstallation"></a><A name="EFDBDBHA"></A><h3 class="subHeading">Planning and Preparing for Cluster Installation</h3><div class="subSection">
          <p>The following sections provide important information about:</p>
          <ul><li>
              How to plan for a new cluster installation <br></br>
            </li><li>
              Decisions that you need to make regarding your quorum resource (the resource that maintains the definitive copy of the cluster configuration data and that&#160;must always be available for the cluster to run)<br></br>
            </li></ul>
        
          <h4 class="subHeading">Planning for Cluster Installation</h4><div class="subSection">
              <p>Before carrying out cluster installation, you need to plan hardware and network details.</p>
              <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Caution </td></tr><tr><td class="alertCell">
                <p>If you are using a shared storage device, before creating a cluster, when you turn on the computer and start the operating system, it very important that only one node has access to the cluster disk. Otherwise, the cluster disks can become corrupted. To prevent the corruption of the cluster disks, shut down all but one cluster node, or use other techniques (for example, LUN masking, selective presentation, or zoning) to protect the cluster disks, before creating the cluster. Once the Cluster service is running properly on one node, the other nodes can be installed and configured simultaneously. Each node of your cluster must be running Windows Server&#160;2003, Datacenter Edition.</p>
              </td></tr></table>
              <p>In your planning, review the following items:</p>
            
              <div class="subSection"><h5 class="subHeading">Cluster hardware and drivers</h5>
                  <p>Microsoft supports only complete server cluster systems that are compatible with the Windows Server&#160;2003 family. Confirm that your entire cluster solution is compatible with products in the Windows Server&#160;2003 family by checking the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a></p>
                  <p>For cluster disks, you must use the NTFS file system and configure the disks as basic disks. You cannot configure cluster disks as dynamic disks, and you cannot use features of dynamic disks such as spanned volumes (volume sets).</p>
                  <p>Review the manufacturer’s instructions carefully before you begin installing cluster hardware. Otherwise the cluster storage could be corrupted.</p>
                  <p>To simplify configuration and eliminate potential compatibility problems, consider using identical hardware for all nodes.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Network adapters on the cluster nodes</h5>
                  <p>In your planning, decide what kind of communication each network adapter will carry. The following list provides details about the types of communication that an adapter can carry:</p>
                  <ul><li>
                      Only node-to-node communication (private network). This implies that the server has one or more additional adapters to carry other communication. <br></br>
                    </li></ul>
                  <p>For node-to-node communication, you connect the network adapter to a private network that is used exclusively within the cluster. Note that if the private network uses a single hub or network switch, that piece of equipment becomes a potential point of failure in your cluster.</p>
                  <p>The nodes of a cluster must be on the same subnet but you can use virtual LAN (VLAN) switches on the interconnects between two nodes. If you use a VLAN, the point-to-point, round-trip latency must be less than 1/2 second and the link between two nodes must appear as a single point-to-point connection from the perspective of the Windows operating system running on the nodes. To avoid single points of failure, use independent VLAN hardware for the different paths between the nodes.</p>
                  <p>If your nodes use multiple private (node-to-node) networks, it is a best practice for the adapters for those networks to use static IP addresses instead of DHCP.</p>
                  <ul><li>
                      Only client-to-cluster communication (public network). This implies that the server has one or more additional adapters to carry other communication. <br></br>
                    </li><li>
                      Both node-to-node and client-to-cluster communication (mixed network). When you have multiple network adapters per node, a network adapter that carries both kinds of communication can serve as a backup for other network adapters. <br></br>
                    </li><li>
                      Communication unrelated to the cluster. If a clustered node also provides services unrelated to the cluster, and there are enough adapters in the cluster node, you might want to use one adapter for carrying communication unrelated to the cluster.<br></br>
                    </li></ul>
                  <p>The nodes of a cluster must be connected by two or more local area networks (LANs); at least two networks are required to prevent a single point of failure. A server cluster whose nodes are connected by only one network is not a supported configuration. The adapters, cables, hubs, and switches for each network must fail independently. This usually implies that the components of any two networks must be physically independent.</p>
                  <p>At least two networks must be configured to handle <b>All communications (mixed network)</b> or <b>Internal cluster communications only (private network)</b>.</p>
                  <p>The recommended configuration for two adapters is to use one adapter for the private (node-to-node only) communication and the other adapter for mixed communication (node-to-node plus client-to-cluster communication). Do not use teaming network adapters on the private network.</p>
                  <p>If you use fault tolerant network adapters, create multiple private networks instead of a single fault-tolerant network.</p>
                  <p>Do not configure a default gateway or DNS or WINS server on the private network adapters. Do not configure private network adapters to use name resolution servers on the public network; otherwise a name resolution server on the public network might map a name to an IP address on the private network. If a client then received that IP address from the name resolution server, it might fail to reach the address because no route from the client to the private network address exists.</p>
                  <p>Configure WINS and/or DNS servers on the public network adapters. If Network Name resources are used on the public networks, set up the DNS servers to support dynamic updates; otherwise the Network Name resources may not fail over correctly. Also, configure a default gateway on the public network adapters. If there are multiple public networks in the cluster, configure a default gateway on only one of these.</p>
                  <p>When you use either the New Server Cluster Wizard or the Add Nodes Wizard to install clustering on a node that contains two network adapters, by default the wizard configures both of the network adapters for mixed network communications. As a best practice, reconfigure one adapter for private network communications only. For more information, see "Change how the cluster uses a network" in Help and Support Center for Windows Server&#160;2003, Datacenter Edition. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
                  <p>Consider choosing a name for each connection that tells what it is intended for. The name will make it easier to identify the connection whenever you are configuring the server.</p>
                  <p>Manually configure the communication settings, such as Speed, Duplex Mode, Flow Control and Media Type of each cluster network adapter. Do not use automatic detection. You must configure all of the cluster network adapters to use the same communication settings.</p>
                  <p>The adapters on a given node must connect to networks in different subnets.</p>
                  <p>Do not use the same IP address for two network adapters, even if they are connected to two different networks.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Notes </td></tr><tr><td class="alertCell"><ul>
                    <li>Confirm that your entire cluster solution is compatible with the products in the Windows Server&#160;2003 family. For more information, see "Cluster hardware and drivers" earlier in this section. </li>
                    <li>If you use a crossover cable to implement a private network, when the cluster is created on the first node the second node should be turned on but stopped in the BIOS or at the startup menu. In this state, the Media Sense feature of Windows might not recognize the network adapter as connected. If you continue creating the cluster, the crossover cable will be detected when you start the second node. The network will be established in the default mode, which is mixed. You can then change the network mode to private using Cluster Administrator.</li>
                  </ul></td></tr></table>
                </div>
              <div class="subSection"><h5 class="subHeading">Cluster IP address</h5>
                  <p>Obtain a static IP address for the cluster itself. You cannot use DHCP for this address.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">IP addressing for cluster nodes</h5>
                  <p>Determine how to handle the IP addressing for the individual cluster nodes. Each network adapter on each node requires IP addressing. It is a best practice to assign each network adapter a static IP address. As an alternative, you can provide IP addressing through DHCP. If you use static IP addresses, set the addresses for each linked pair of network adapters (linked node-to-node) to be on the same subnet.</p>
                  <p>Note that if you use DHCP for the individual cluster nodes, it can act as a single point of failure. That is, if you set up your cluster nodes so that they depend on a DHCP server for their IP addresses, temporary failure of the DHCP server can mean temporary unavailability of the cluster nodes. When deciding whether to use DHCP, evaluate ways to ensure availability of DHCP services, and consider the possibility of using long leases for the cluster nodes. This helps to ensure that they always have a valid IP address.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Cluster name</h5>
                  <p>Determine or obtain an appropriate name for the cluster. This is the name administrators will use for connections to the cluster. (The actual applications running on the cluster typically have different network names.) The cluster name must be different from the domain name, from all computer names on the domain, and from other cluster names on the domain.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Computer accounts and domain assignment for cluster nodes</h5>
                  <p>Make sure that the cluster nodes all have computer accounts in the same domain. Cluster nodes cannot be in a workgroup.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Operator user account for installing and configuring the Cluster service</h5>
                  <p>To install and configure the cluster service, you must be using an account that is in the local Administrators group on each node. As you install and configure each node, if you are not using an account in the local Administrators group, you will be prompted to provide the logon credentials for such an account.</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Cluster service user account</h5>
                  <p>Create or obtain the Cluster service user account. This is the name and password under which the Cluster service will run. You need to supply this user name and password during cluster installation.</p>
                  <p>It is best if the Cluster service user account is an account not used for any other purpose. If you have multiple clusters, set up a unique Cluster service user account for each cluster. The account must be a domain account; it cannot be a local account. However, do not make this account a domain administrator account because it does not need domain administrator user rights.</p>
                  <p>As part of the cluster setup process, the Cluster service user account is added to the local Administrators group on each node. As well as being a member of the local Administrators group, the Cluster service user account requires an additional set of user rights:</p>
                  <ul><li>
                      Act as part of the operating system. <br></br>
                    </li><li>
                      Back up files and directories. <br></br>
                    </li><li>
                      Adjust memory quotas for a process. <br></br>
                    </li><li>
                      Increase scheduling priority. <br></br>
                    </li><li>
                      Log on as a service. <br></br>
                    </li><li>
                      Restore files and directories.<br></br>
                    </li></ul>
                  <p>These user rights are also granted to the Cluster service user account as part of the cluster setup process. Be aware that the Cluster service user account will continue to have these user rights even after all nodes are evicted from the cluster. The risk that this presents is mitigated by the fact that these user rights are not granted domain wide, but rather only locally on each former node. However, remove this account from each evicted node if it is no longer needed.</p>
                  <p>Be sure to keep the password from expiring on the Cluster service user account (follow your organization’s policies for password renewal).</p>
                </div>
              <div class="subSection"><h5 class="subHeading">Volume for important cluster configuration information (checkpoint and log files)</h5>
                  <p>Plan on setting aside a volume on your cluster storage for holding important cluster configuration information. This information makes up the cluster quorum resource, which is needed when a cluster node stops functioning. The quorum resource provides node-independent storage of crucial data needed by the cluster. For important information about quorum resource options, see "Quorum Resource Options" later in this topic.</p>
                  <p>The recommended minimum size for the volume is 500 MB. It is recommended that you do not store user data on any volume in the quorum resource.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                    <p>When planning and carrying out disk configuration for the cluster disks, configure them as basic disks with all partitions formatted as NTFS (they can be either compressed or uncompressed). Partition and format all disks on the cluster storage device before adding the first node to your cluster. Do not configure them as dynamic disks, and do not use spanned volumes (volume sets), or Remote Storage on the cluster disks. For 64-bit editions of Windows Server&#160;2003, Datacenter Edition, cluster disks on the cluster storage device must be partitioned as MBR and not as GPT disks</p>
                  </td></tr></table>
                </div>
            </div>
          <h4 class="subHeading">Quorum Resource Options</h4><div class="subSection">
              <p>With server clusters on Windows Server&#160;2003, Datacenter Edition, you can now choose between three&#160;ways to set up the quorum resource (the resource that maintains the definitive copy of the cluster configuration data and that&#160;must always be available for the cluster to run). The first is a single node server cluster, which has been available in the past and continues to be supported. A single node cluster is often used for development and testing and can be configured with, or without, external cluster storage devices. For single node clusters without an external cluster storage device, the local disk is configured as the cluster quorum device.</p>
              <p>The second option is a single quorum device server cluster, which has also been available in earlier Windows versions. This model places the cluster configuration data on a shared cluster storage device that all nodes can access.</p>
              <p>This is the most common model and is recommended for most situations. You might choose the single quorum device model if all of your cluster nodes are in the same location and you want to take advantage of the fact&#160;such a cluster continues supporting&#160;users even&#160;if only one node is running.</p>
              <p>The third option, which is new for Windows Server&#160;2003, Datacenter Edition, is a "majority node set." A majority node set is a single quorum resource from a server cluster perspective; however, the cluster configuration data is actually stored on multiple disks across the cluster. The majority node set resource ensures that the cluster configuration data is kept consistent across the different disks. </p>
              <p>In the majority node set model, every node in the cluster uses a directory on its own local system disk to store the cluster configuration data. If the configuration of the cluster changes, that change is reflected across the different disks. Be aware that it is also possible to have shared storage devices in a majority node set cluster. The exact configuration depends on the requirements for your installation.</p>
              <p>Only use a majority node set cluster in targeted scenarios, such as:</p>
              <ul><li>
                  Geographically dispersed cluster: A cluster that spans multiple sites. <br></br>
                </li><li>
                  Eliminating single points of failure: Although when using a single cluster storage device the quorum disk itself can be made highly available via RAID, the controller port or the Host Bus Adapters (HBA) itself may be a single point of failure. <br></br>
                </li><li>
                  Clusters with no shared disks: There are some specialized configurations that need tightly consistent cluster features without having shared disks. <br></br>
                </li><li>
                  Clusters that host applications that can fail over, but where there is some other, application-specific way, to replicate or mirror data between nodes: For example, this model is useful if you use database log shipping for keeping a SQL database state up to date.<br></br>
                </li></ul>
              <p>Do not configure your cluster as a majority node set cluster unless it is part of a cluster solution offered by your Original Equipment Manufacturer (OEM), Independent Software Vendor (ISV), or Independent Hardware Vendor (IHV).</p>
            
              <div class="subSection"><h5 class="subHeading">Cluster Model Considerations</h5>
                  <p>Before implementing your cluster, consider what type of quorum resource solution you plan to use. Take into consideration the following differences between single quorum device clusters and majority node set:</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Note </td></tr><tr><td class="alertCell">
                    <p>The following information is presented to help you make basic decisions about the placement and&#160;management of&#160;your cluster nodes and quorum resource. It does not provide all the details about&#160;the requirements for each cluster model, or how each model handles failover situations. If&#160;you are not sure which model to use or where you want to place your cluster nodes, install Windows Server&#160;2003, Datacenter Edition, on the first cluster node, then consult the on-line help cluster documentation in the Help and Support Center for Windows Server&#160;2003, Datacenter Edition. See "Using a Majority Node Set" later in this topic for more information about how to access Help and Support Center.</p>
                  </td></tr></table>
                </div>
              <div class="subSection"><h5 class="subHeading">Node failover behavior</h5>
                  <p>The failover behavior of the majority node set is significantly different from the behavior of the single quorum device model:</p>
                  <ul><li>
                      Using the single quorum device model, you can maintain cluster availability with only a single operational node. <br></br>
                    </li><li>
                      If you use a majority node set, more than half, or (Number of nodes configured in the cluster/2) + 1 nodes must be operational to maintain cluster availability. The following table shows the number of node failures that a given majority node set cluster can tolerate yet continue to operate:<br></br>
                    </li></ul>
                  <p><b></b></p><table><tr>
                        <th>
                          Number of nodes configured in the cluster
                        </th>
                        <th>
                          Number of node failures allowed before cluster failure
                        </th>
                        <th>
                          Number of nodes needed to continue cluster operations
                        </th>
                      </tr><tr>
                      <td>
                        <p>1</p>
                      </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>1</p>
                      </td>
                    </tr><tr>
                      <td>
                        <p>2</p>
                      </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>2</p>
                      </td>
                    </tr><tr>
                      <td>
                        <p>3</p>
                      </td>
                      <td>
                        <p>1</p>
                      </td>
                      <td>
                        <p>2</p>
                      </td>
                    </tr><tr>
                      <td>
                        <p>4</p>
                      </td>
                      <td>
                        <p>1</p>
                      </td>
                      <td>
                        <p>3</p>
                      </td>
                    </tr><tr>
                      <td>
                        <p>5</p>
                      </td>
                      <td>
                        <p>2</p>
                      </td>
                      <td>
                        <p>3</p>
                      </td>
                    </tr><tr>
                      <td>
                        <p>6</p>
                      </td>
                      <td>
                        <p>2</p>
                      </td>
                      <td>
                        <p>4</p>
                      </td>
                    </tr><tr>
                      <td>
                        <p>7</p>
                      </td>
                      <td>
                        <p>3</p>
                      </td>
                      <td>
                        <p>4</p>
                      </td>
                    </tr><tr>
                      <td>
                        <p>8</p>
                      </td>
                      <td>
                        <p>3</p>
                      </td>
                      <td>
                        <p>5</p>
                      </td>
                    </tr></table>
                </div>
              <div class="subSection"><h5 class="subHeading">Geographic considerations</h5>
                  <p>You would commonly use a single quorum resource model if all nodes in your cluster will be in the same geographical location. As part of this requirement, your nodes must be connected to the same physical storage device.</p>
                  <p>A majority node set on the other hand would typically be appropriate if you have geographically dispersed nodes. The cluster configuration data is stored locally on each node on a file share that is shared out to the other nodes on the network. However, those shares must always be accessible or nodes can fail.</p>
                  <p>There are other specific requirements for geographically dispersed clusters, including the requirement that round-trip latency of the network between cluster nodes be a maximum of 500 milliseconds. For information about cluster solutions that meet all requirements for a geographically dispersed cluster, refer to hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkID=37824</a></p>
                </div>
              <div class="subSection"><h5 class="subHeading">Hardware</h5>
                  <p>Microsoft supports only complete server cluster systems that are compatible with the Windows Server&#160;2003 family of products. For both cluster models, confirm that your system or hardware components, including your cluster disks, are compatible with products in the Windows Server&#160;2003 family by checking the hardware compatibility information in the Windows Catalog at: <a href="http://go.microsoft.com/fwlink/?LinkId=37824" target="_blank" alt="" target="_blank">http://go.microsoft.com/fwlink/?LinkId=37824</a></p>
                </div>
              <div class="subSection"><h5 class="subHeading">Using a Majority Node Set</h5>
                  <p>This section tells how to obtain additional information about the majority node set model. For a diagram of a majority node set, see "Quorum Resource Options" earlier in this topic.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
                    <p>Before implementing a majority node set, it is highly recommended that you read the online clustering documentation in Help and Support Center to thoroughly understand all the considerations, requirements, and restrictions for each type of quorum resource solution.</p>
                  </td></tr></table>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To obtain additional information about Majority Node Set model</b></td></tr></table><ol><li>
                        
                          <p>If Windows Server&#160;2003, Datacenter Edition, is not already installed, install Windows Server&#160;2003, Datacenter Edition, on the first node, as documented later in this topic. </p>
                        
                      </li><li>
                        
                          <p>On the first node, click <b>Start</b>, and then click <b>Help and Support</b>. </p>
                        
                      </li><li>
                        
                          <p>Click <b>Availability and Scalability</b>. </p>
                        
                      </li><li>
                        
                          <p>Click <b>Windows Clustering</b>. </p>
                        
                      </li><li>
                        
                          <p>Click <b>Server Clusters</b>. </p>
                        
                      </li><li>
                        
                          <p>Click <b>Concepts</b>. </p>
                        
                      </li><li>
                        
                          <p>Click <b>Planning Your Server Cluster</b>. </p>
                        
                      </li><li>
                        
                          <p>Click <b>Choosing a Cluster Model</b>. </p>
                        
                      </li><li>
                        
                          <p>Read the documentation describing the different options for the quorum resource. </p>
                        
                      </li><li>
                        
                          <p>Follow the procedure outlined in the topic titled "To create a cluster."</p>
                        
                      </li><li>
                        
                          <p>Install or upgrade to Windows Server&#160;2003, Datacenter Edition, on the remaining nodes.</p>
                        
                      </li></ol>
                </div>
            </div>
        </div>
      <a name="BeginningtheClusterInstallationontheFirstClusterNode"></a><A name="EFBBDBHA"></A><h3 class="subHeading">Beginning the Cluster Installation on the First Cluster Node</h3><div class="subSection">
          <p>The steps you carry out when first physically connecting and installing the cluster hardware are crucial. Be sure to follow the hardware manufacturer’s instructions for these initial steps.</p>
          <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell">
            <p>Carefully review your network cables after connecting them. Make sure no cables are crossed by mistake (for example, private network connected to public).</p>
          </td></tr></table>
        
          <div class="subSection">
            
              <div class="subSection"><h5 class="subHeading">Initial Steps to Carry Out in the BIOS or EFI When Using a Fibre Channel Shared Storage Device or No Shared Storage Device</h5>
                  <ul><li>
                      Turn on a single node. Leave all other nodes turned off. <br></br>
                    </li><li>
                      During this initial installation phase, remain in the BIOS or Extensible Firmware Interface (EFI) configuration process, and do not allow the operating system to start. While viewing the BIOS or EFI configuration screens, ensure that you can scan the bus and see the drives from the active cluster node. On x86-based and x64-based computers, use the BIOS configuration screens. On Itanium-based computers, use the EFI configuration screens. Consult the instructions from your manufacturer to determine whether these configuration screens are displayed automatically or whether you must, after turning on the computer, press specific keys to access them. Follow the manufacturer’s instructions for completing the BIOS or EFI configuration process.<br></br>
                    </li></ul>
                </div>
              <div class="subSection"><h5 class="subHeading">Final Steps to Complete the Installation</h5>
                  <p>If you have not already installed Windows Server&#160;2003, Datacenter Edition, on the first cluster node, install it before proceeding. For information about decisions you must make, such as decisions about licensing and about the components to install, see "Getting Ready for an Upgrade" at the beginning of this document. For information about running Setup, see "<a href="#BKMK_2">Running Setup for an Upgrade</a>" earlier in this topic.</p>
                  <p>After you complete the BIOS or EFI configuration, start the operating system on one cluster node only, and complete the configuration of the Cluster service using Cluster Administrator.</p>
                  <p>With the Cluster Administrator New Server Cluster Wizard, you can choose between Typical (full) configuration and Advanced (minimum) configuration options. Typical configuration is appropriate for most installations and results in a completely configured cluster. Use the Advanced configuration option only for clusters that have complex storage configurations that the New Server Cluster Wizard cannot validate or for configurations in which you do not want the cluster to manage all of the storage. The following examples describe each situation:</p>
                  <ul><li>
                      In some complex storage solutions, such as a fiber channel switched fabric that contains several switches, a particular storage unit might have a different identity on each computer in the cluster. Although this is a valid storage configuration, it violates the storage validation heuristics in the New Server Cluster Wizard. If you have this type of storage solution, you might receive an error when you are trying to create a cluster using the Typical configuration option. If your storage configuration is set up correctly, you can disable the storage validation heuristics and avoid this error by restarting the New Server Cluster Wizard, selecting the Advanced configuration option instead. <br></br>
                    </li><li>
                      On particular nodes in a cluster, you may want to have some disks that are to be clustered and some disks that are to be kept private. The Typical configuration option configures all disks as clustered disks and creates cluster resources for them all. However, with the Advanced configuration option, you can keep certain disks private because this configuration creates a cluster in which only the quorum disk is managed by the cluster (if you chose to use a physical disk as the quorum resource). After the cluster is created, you must then use Cluster Administrator to add any other disks that you want the cluster to manage.<br></br>
                    </li></ul>
                  <p>If you are using a shared storage device: Before creating a cluster, when you turn the computer on and start the operating system, it is very important that only one node has access to the cluster disk. Otherwise, the cluster disks can become corrupted. To prevent the corruption of the cluster disks, shut down all but one cluster node, or use other techniques (for example, LUN masking, selective presentation, or zoning) to protect the cluster disks before creating the cluster. Also, before starting the installation of the second and subsequent nodes, ensure that all disks that are to be managed by the cluster have disk resources associated with them. If these disks do not have disk resources associated with them at this time, the disk data will be corrupted because the disks will not be protected and multiple nodes will attempt to connect to them at the same time.</p>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To set up your cluster using Cluster Administrator</b></td></tr></table><ol><li>
                        
                          <p>Open Cluster Administrator by clicking <b>Start</b>, pointing to <b>Programs</b>, pointing to <b>Administrative Tools</b>, and then clicking <b>Cluster Administrator</b>.</p>
                        
                      </li><li>
                        
                          <p>In the <b>Open Connection to Cluster</b> dialog box that appears, in <b>Action</b>, select <b>Create new cluster</b>, then click <b>OK</b>.</p>
                        
                      </li><li>
                        
                          <p>The New Server Cluster Wizard appears. Click <b>Next</b> to continue.</p>
                        
                      </li><li>
                        
                          <p>Upon completion of the New Server Cluster Wizard, click <b>Finish</b>.</p>
                        
                      </li></ol>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="txtCell">Important </td></tr><tr><td class="alertCell"><ul>
                    <li>During the cluster creation process (using the Quorum button on the Proposed Cluster Configuration page) you will be able to select a quorum resource type (that is, a Local Quorum resource, Physical Disk or other storage class device resource, or Majority Node Set resource). For information about how these quorum resource types relate to the different cluster models, see "Quorum Resource Options" earlier in the topic. </li>
                    <li>Do not use Manage Your Server or the Configure Your Server Wizard to configure cluster nodes.</li>
                  </ul></td></tr></table>
                  <table class="alertTable" cellspacing="0" cellpadding="0"><tr><td class="procHeadingCell"><b>To obtain additional information about how to install and configure the Cluster service</b></td></tr></table><ol><li>
                        
                          <p>After completing Setup of Windows Server&#160;2003, Datacenter Edition, click <b>Start</b>, and then click <b>Help and Support</b>.</p>
                        
                      </li><li>
                        
                          <p>Click <b>Availability and Scalability</b>.</p>
                        
                      </li><li>
                        
                          <p>Click <b>Windows Clustering</b>.</p>
                        
                      </li><li>
                        
                          <p>Click <b>Server Clusters</b>.</p>
                        
                      </li><li>
                        
                          <p>Click <b>Checklists: Creating Server Clusters</b>, and then click <b>Checklist: Planning and creating a server cluster</b>.</p>
                        
                      </li><li>
                        
                          <p>Use the checklist to guide you through the process of completing the installation of your server cluster.</p>
                        
                      </li></ol>
                </div>
              <div class="subSection"><h5 class="subHeading">Unattended Installation</h5>
                  <p>To create and configure a cluster after unattended Setup, run a script to invoke the <b>cluster&#160;/create:</b> command and supply all the necessary configuration information about the command line. For more information about creating a cluster using unattended installation, after you install Windows Server&#160;2003, Datacenter Edition, see <b>To&#160;create a cluster</b> in Help and Support Center. To open Help and Support Center, after completing Setup, click <b>Start</b>, and then click <b>Help and Support</b>. Also, see the <i>Windows Server&#160;2003 Deployment Kit</i>, especially the "Designing Unattended Installations" topic in <i>Automating and Customizing Installations</i>. </p>
                </div>
            </div>
        </div>
    </div><p class="TopOfPage"><A href="#pagetop" class="TopOfPageLink">Top of page</A></p></td>
          </tr>
        </table>
      </div>
    </div>
  </body>
</html>